"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_app_lib_services_knowledgeBaseCompilerService_ts";
exports.ids = ["_ssr_app_lib_services_knowledgeBaseCompilerService_ts"];
exports.modules = {

/***/ "(ssr)/./app/lib/services/heygenApiService.ts":
/*!**********************************************!*\
  !*** ./app/lib/services/heygenApiService.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateHeyGenKnowledgeBase: () => (/* binding */ updateHeyGenKnowledgeBase),\n/* harmony export */   updatePosteKnowledgeBases: () => (/* binding */ updatePosteKnowledgeBases)\n/* harmony export */ });\n/**\r\n * HeyGen API Service v0.06\r\n * \r\n * Service d'appel √† l'API HeyGen pour la gestion des Knowledge Bases\r\n * \r\n * @author NeoRecrut Team\r\n * @date 2025-10-30\r\n * @version 0.06 - Ajout param√®tres name et opening obligatoires\r\n */ // Types\n/**\r\n * Met √† jour le contenu d'une Knowledge Base HeyGen\r\n * \r\n * @param kbId - ID de la KB HeyGen √† mettre √† jour\r\n * @param content - Contenu texte √† injecter dans la KB\r\n * @param name - Nom de la KB (optionnel, conserve l'ancien si non fourni)\r\n * @param opening - Message d'ouverture (optionnel)\r\n * @returns R√©sultat de la mise √† jour\r\n * \r\n * @example\r\n * const result = await updateHeyGenKnowledgeBase('782b26f0...', 'Contenu format√©...', 'Ma KB', 'Bonjour !');\r\n */ async function updateHeyGenKnowledgeBase(kbId, content, name, opening) {\n    console.log(`üì§ [HeyGen API] Mise √† jour KB: ${kbId} (${content.length} caract√®res)`);\n    try {\n        // Construire l'URL compl√®te pour l'API route\n        const baseUrl =  false ? 0 : '';\n        const apiUrl = `${baseUrl}/api/update-kb`;\n        console.log(`üì§ [HeyGen API] Appel API route: ${apiUrl}`);\n        // Appel √† l'API route c√¥t√© serveur (s√©curis√©)\n        const response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                knowledgeId: kbId,\n                content: content,\n                name: name,\n                opening: opening\n            })\n        });\n        // V√©rifier le statut de la r√©ponse\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            console.error('‚ùå [HeyGen API] Erreur HTTP:', response.status, errorData);\n            throw new Error(`Erreur API: ${response.status} - ${errorData.error || 'Erreur inconnue'}`);\n        }\n        // Parser la r√©ponse\n        const data = await response.json();\n        if (!data.success) {\n            throw new Error(data.error || 'Erreur inconnue');\n        }\n        console.log(`‚úÖ [HeyGen API] KB mise √† jour avec succ√®s: ${kbId}`);\n        return {\n            success: true,\n            message: 'KB mise √† jour avec succ√®s'\n        };\n    } catch (error) {\n        console.error('‚ùå [HeyGen API] Erreur mise √† jour KB:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Erreur inconnue'\n        };\n    }\n}\n/**\r\n * Met √† jour les 3 KB d'un poste avec leur contenu respectif\r\n * \r\n * @param kbIds - IDs des 3 KB HeyGen\r\n * @param contents - Contenus format√©s pour chaque KB\r\n * @returns R√©sultat global de la mise √† jour\r\n */ async function updatePosteKnowledgeBases(kbIds, contents) {\n    console.log('üì§ [HeyGen API] Mise √† jour des 3 KB du poste...');\n    try {\n        // Mise √† jour KB D√©couverte\n        const resultDecouverte = await updateHeyGenKnowledgeBase(kbIds.decouverte, contents.decouverte, 'D√©couverte', 'Bonjour !');\n        if (!resultDecouverte.success) {\n            throw new Error(`Erreur KB D√©couverte: ${resultDecouverte.error}`);\n        }\n        // Mise √† jour KB Pr√©s√©lection\n        const resultPreselection = await updateHeyGenKnowledgeBase(kbIds.preselection, contents.preselection, 'Pr√©s√©lection', 'Bonjour !');\n        if (!resultPreselection.success) {\n            throw new Error(`Erreur KB Pr√©s√©lection: ${resultPreselection.error}`);\n        }\n        // Mise √† jour KB S√©lection\n        const resultSelection = await updateHeyGenKnowledgeBase(kbIds.selection, contents.selection, 'S√©lection', 'Bonjour !');\n        if (!resultSelection.success) {\n            throw new Error(`Erreur KB S√©lection: ${resultSelection.error}`);\n        }\n        console.log('‚úÖ [HeyGen API] Les 3 KB ont √©t√© mises √† jour avec succ√®s');\n        return {\n            success: true,\n            message: 'Les 3 KB ont √©t√© mises √† jour avec succ√®s'\n        };\n    } catch (error) {\n        console.error('‚ùå [HeyGen API] Erreur mise √† jour des KB:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Erreur inconnue'\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvbGliL3NlcnZpY2VzL2hleWdlbkFwaVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7Q0FRQyxHQUVELFFBQVE7QUFPUjs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLGVBQWVBLDBCQUNwQkMsSUFBWSxFQUNaQyxPQUFlLEVBQ2ZDLElBQWEsRUFDYkMsT0FBZ0I7SUFFaEJDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdDQUFnQyxFQUFFTCxLQUFLLEVBQUUsRUFBRUMsUUFBUUssTUFBTSxDQUFDLFlBQVksQ0FBQztJQUVwRixJQUFJO1FBQ0YsNkNBQTZDO1FBQzdDLE1BQU1DLFVBQVUsTUFBNkIsR0FBR0MsQ0FBc0IsR0FBRztRQUN6RSxNQUFNRyxTQUFTLEdBQUdKLFFBQVEsY0FBYyxDQUFDO1FBRXpDSCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxpQ0FBaUMsRUFBRU0sUUFBUTtRQUV4RCw4Q0FBOEM7UUFDOUMsTUFBTUMsV0FBVyxNQUFNQyxNQUFNRixRQUFRO1lBQ25DRyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJDLGFBQWFuQjtnQkFDYkMsU0FBU0E7Z0JBQ1RDLE1BQU1BO2dCQUNOQyxTQUFTQTtZQUNYO1FBQ0Y7UUFFQSxtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDUyxTQUFTUSxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsWUFBWSxNQUFNVCxTQUFTVSxJQUFJLEdBQUdDLEtBQUssQ0FBQyxJQUFPLEVBQUM7WUFDdERuQixRQUFRb0IsS0FBSyxDQUFDLCtCQUErQlosU0FBU2EsTUFBTSxFQUFFSjtZQUM5RCxNQUFNLElBQUlLLE1BQU0sQ0FBQyxZQUFZLEVBQUVkLFNBQVNhLE1BQU0sQ0FBQyxHQUFHLEVBQUVKLFVBQVVHLEtBQUssSUFBSSxtQkFBbUI7UUFDNUY7UUFFQSxvQkFBb0I7UUFDcEIsTUFBTUcsT0FBTyxNQUFNZixTQUFTVSxJQUFJO1FBRWhDLElBQUksQ0FBQ0ssS0FBS0MsT0FBTyxFQUFFO1lBQ2pCLE1BQU0sSUFBSUYsTUFBTUMsS0FBS0gsS0FBSyxJQUFJO1FBQ2hDO1FBRUFwQixRQUFRQyxHQUFHLENBQUMsQ0FBQywyQ0FBMkMsRUFBRUwsTUFBTTtRQUVoRSxPQUFPO1lBQ0w0QixTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUVGLEVBQUUsT0FBT0wsT0FBTztRQUNkcEIsUUFBUW9CLEtBQUssQ0FBQyx5Q0FBeUNBO1FBRXZELE9BQU87WUFDTEksU0FBUztZQUNUSixPQUFPQSxpQkFBaUJFLFFBQVFGLE1BQU1LLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0Y7QUFFQTs7Ozs7O0NBTUMsR0FDTSxlQUFlQywwQkFDcEJDLEtBSUMsRUFDREMsUUFJQztJQUVENUIsUUFBUUMsR0FBRyxDQUFDO0lBRVosSUFBSTtRQUNGLDRCQUE0QjtRQUM1QixNQUFNNEIsbUJBQW1CLE1BQU1sQywwQkFDN0JnQyxNQUFNRyxVQUFVLEVBQ2hCRixTQUFTRSxVQUFVLEVBQ25CLGNBQ0E7UUFFRixJQUFJLENBQUNELGlCQUFpQkwsT0FBTyxFQUFFO1lBQzdCLE1BQU0sSUFBSUYsTUFBTSxDQUFDLHNCQUFzQixFQUFFTyxpQkFBaUJULEtBQUssRUFBRTtRQUNuRTtRQUVBLDhCQUE4QjtRQUM5QixNQUFNVyxxQkFBcUIsTUFBTXBDLDBCQUMvQmdDLE1BQU1LLFlBQVksRUFDbEJKLFNBQVNJLFlBQVksRUFDckIsZ0JBQ0E7UUFFRixJQUFJLENBQUNELG1CQUFtQlAsT0FBTyxFQUFFO1lBQy9CLE1BQU0sSUFBSUYsTUFBTSxDQUFDLHdCQUF3QixFQUFFUyxtQkFBbUJYLEtBQUssRUFBRTtRQUN2RTtRQUVBLDJCQUEyQjtRQUMzQixNQUFNYSxrQkFBa0IsTUFBTXRDLDBCQUM1QmdDLE1BQU1PLFNBQVMsRUFDZk4sU0FBU00sU0FBUyxFQUNsQixhQUNBO1FBRUYsSUFBSSxDQUFDRCxnQkFBZ0JULE9BQU8sRUFBRTtZQUM1QixNQUFNLElBQUlGLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRVcsZ0JBQWdCYixLQUFLLEVBQUU7UUFDakU7UUFFQXBCLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE9BQU87WUFDTHVCLFNBQVM7WUFDVEMsU0FBUztRQUNYO0lBRUYsRUFBRSxPQUFPTCxPQUFPO1FBQ2RwQixRQUFRb0IsS0FBSyxDQUFDLDZDQUE2Q0E7UUFFM0QsT0FBTztZQUNMSSxTQUFTO1lBQ1RKLE9BQU9BLGlCQUFpQkUsUUFBUUYsTUFBTUssT0FBTyxHQUFHO1FBQ2xEO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxmaXNjaFxcSUFfREVNT1xcYXBwc1xcbmVvXFxhcHBcXGxpYlxcc2VydmljZXNcXGhleWdlbkFwaVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEhleUdlbiBBUEkgU2VydmljZSB2MC4wNlxyXG4gKiBcclxuICogU2VydmljZSBkJ2FwcGVsIMOgIGwnQVBJIEhleUdlbiBwb3VyIGxhIGdlc3Rpb24gZGVzIEtub3dsZWRnZSBCYXNlc1xyXG4gKiBcclxuICogQGF1dGhvciBOZW9SZWNydXQgVGVhbVxyXG4gKiBAZGF0ZSAyMDI1LTEwLTMwXHJcbiAqIEB2ZXJzaW9uIDAuMDYgLSBBam91dCBwYXJhbcOodHJlcyBuYW1lIGV0IG9wZW5pbmcgb2JsaWdhdG9pcmVzXHJcbiAqL1xyXG5cclxuLy8gVHlwZXNcclxuaW50ZXJmYWNlIFVwZGF0ZUtCUmVzcG9uc2Uge1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgbWVzc2FnZT86IHN0cmluZztcclxuICBlcnJvcj86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIE1ldCDDoCBqb3VyIGxlIGNvbnRlbnUgZCd1bmUgS25vd2xlZGdlIEJhc2UgSGV5R2VuXHJcbiAqIFxyXG4gKiBAcGFyYW0ga2JJZCAtIElEIGRlIGxhIEtCIEhleUdlbiDDoCBtZXR0cmUgw6Agam91clxyXG4gKiBAcGFyYW0gY29udGVudCAtIENvbnRlbnUgdGV4dGUgw6AgaW5qZWN0ZXIgZGFucyBsYSBLQlxyXG4gKiBAcGFyYW0gbmFtZSAtIE5vbSBkZSBsYSBLQiAob3B0aW9ubmVsLCBjb25zZXJ2ZSBsJ2FuY2llbiBzaSBub24gZm91cm5pKVxyXG4gKiBAcGFyYW0gb3BlbmluZyAtIE1lc3NhZ2UgZCdvdXZlcnR1cmUgKG9wdGlvbm5lbClcclxuICogQHJldHVybnMgUsOpc3VsdGF0IGRlIGxhIG1pc2Ugw6Agam91clxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlSGV5R2VuS25vd2xlZGdlQmFzZSgnNzgyYjI2ZjAuLi4nLCAnQ29udGVudSBmb3JtYXTDqS4uLicsICdNYSBLQicsICdCb25qb3VyICEnKTtcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVIZXlHZW5Lbm93bGVkZ2VCYXNlKFxyXG4gIGtiSWQ6IHN0cmluZyxcclxuICBjb250ZW50OiBzdHJpbmcsXHJcbiAgbmFtZT86IHN0cmluZyxcclxuICBvcGVuaW5nPzogc3RyaW5nXHJcbik6IFByb21pc2U8VXBkYXRlS0JSZXNwb25zZT4ge1xyXG4gIGNvbnNvbGUubG9nKGDwn5OkIFtIZXlHZW4gQVBJXSBNaXNlIMOgIGpvdXIgS0I6ICR7a2JJZH0gKCR7Y29udGVudC5sZW5ndGh9IGNhcmFjdMOocmVzKWApO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gQ29uc3RydWlyZSBsJ1VSTCBjb21wbMOodGUgcG91ciBsJ0FQSSByb3V0ZVxyXG4gICAgY29uc3QgYmFzZVVybCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLm9yaWdpbiA6ICcnO1xyXG4gICAgY29uc3QgYXBpVXJsID0gYCR7YmFzZVVybH0vYXBpL3VwZGF0ZS1rYmA7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGDwn5OkIFtIZXlHZW4gQVBJXSBBcHBlbCBBUEkgcm91dGU6ICR7YXBpVXJsfWApO1xyXG4gICAgXHJcbiAgICAvLyBBcHBlbCDDoCBsJ0FQSSByb3V0ZSBjw7R0w6kgc2VydmV1ciAoc8OpY3VyaXPDqSlcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGtub3dsZWRnZUlkOiBrYklkLFxyXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBvcGVuaW5nOiBvcGVuaW5nLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFbDqXJpZmllciBsZSBzdGF0dXQgZGUgbGEgcsOpcG9uc2VcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW0hleUdlbiBBUEldIEVycmV1ciBIVFRQOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JEYXRhKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJldXIgQVBJOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yRGF0YS5lcnJvciB8fCAnRXJyZXVyIGluY29ubnVlJ31gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYXJzZXIgbGEgcsOpcG9uc2VcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgJ0VycmV1ciBpbmNvbm51ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgW0hleUdlbiBBUEldIEtCIG1pc2Ugw6Agam91ciBhdmVjIHN1Y2PDqHM6ICR7a2JJZH1gKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnS0IgbWlzZSDDoCBqb3VyIGF2ZWMgc3VjY8OocycsXHJcbiAgICB9O1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIFtIZXlHZW4gQVBJXSBFcnJldXIgbWlzZSDDoCBqb3VyIEtCOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJldXIgaW5jb25udWUnLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZXQgw6Agam91ciBsZXMgMyBLQiBkJ3VuIHBvc3RlIGF2ZWMgbGV1ciBjb250ZW51IHJlc3BlY3RpZlxyXG4gKiBcclxuICogQHBhcmFtIGtiSWRzIC0gSURzIGRlcyAzIEtCIEhleUdlblxyXG4gKiBAcGFyYW0gY29udGVudHMgLSBDb250ZW51cyBmb3JtYXTDqXMgcG91ciBjaGFxdWUgS0JcclxuICogQHJldHVybnMgUsOpc3VsdGF0IGdsb2JhbCBkZSBsYSBtaXNlIMOgIGpvdXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQb3N0ZUtub3dsZWRnZUJhc2VzKFxyXG4gIGtiSWRzOiB7XHJcbiAgICBkZWNvdXZlcnRlOiBzdHJpbmc7XHJcbiAgICBwcmVzZWxlY3Rpb246IHN0cmluZztcclxuICAgIHNlbGVjdGlvbjogc3RyaW5nO1xyXG4gIH0sXHJcbiAgY29udGVudHM6IHtcclxuICAgIGRlY291dmVydGU6IHN0cmluZztcclxuICAgIHByZXNlbGVjdGlvbjogc3RyaW5nO1xyXG4gICAgc2VsZWN0aW9uOiBzdHJpbmc7XHJcbiAgfVxyXG4pOiBQcm9taXNlPFVwZGF0ZUtCUmVzcG9uc2U+IHtcclxuICBjb25zb2xlLmxvZygn8J+TpCBbSGV5R2VuIEFQSV0gTWlzZSDDoCBqb3VyIGRlcyAzIEtCIGR1IHBvc3RlLi4uJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBNaXNlIMOgIGpvdXIgS0IgRMOpY291dmVydGVcclxuICAgIGNvbnN0IHJlc3VsdERlY291dmVydGUgPSBhd2FpdCB1cGRhdGVIZXlHZW5Lbm93bGVkZ2VCYXNlKFxyXG4gICAgICBrYklkcy5kZWNvdXZlcnRlLFxyXG4gICAgICBjb250ZW50cy5kZWNvdXZlcnRlLFxyXG4gICAgICAnRMOpY291dmVydGUnLFxyXG4gICAgICAnQm9uam91ciAhJ1xyXG4gICAgKTtcclxuICAgIGlmICghcmVzdWx0RGVjb3V2ZXJ0ZS5zdWNjZXNzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEtCIETDqWNvdXZlcnRlOiAke3Jlc3VsdERlY291dmVydGUuZXJyb3J9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWlzZSDDoCBqb3VyIEtCIFByw6lzw6lsZWN0aW9uXHJcbiAgICBjb25zdCByZXN1bHRQcmVzZWxlY3Rpb24gPSBhd2FpdCB1cGRhdGVIZXlHZW5Lbm93bGVkZ2VCYXNlKFxyXG4gICAgICBrYklkcy5wcmVzZWxlY3Rpb24sXHJcbiAgICAgIGNvbnRlbnRzLnByZXNlbGVjdGlvbixcclxuICAgICAgJ1Byw6lzw6lsZWN0aW9uJyxcclxuICAgICAgJ0JvbmpvdXIgISdcclxuICAgICk7XHJcbiAgICBpZiAoIXJlc3VsdFByZXNlbGVjdGlvbi5zdWNjZXNzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEtCIFByw6lzw6lsZWN0aW9uOiAke3Jlc3VsdFByZXNlbGVjdGlvbi5lcnJvcn1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNaXNlIMOgIGpvdXIgS0IgU8OpbGVjdGlvblxyXG4gICAgY29uc3QgcmVzdWx0U2VsZWN0aW9uID0gYXdhaXQgdXBkYXRlSGV5R2VuS25vd2xlZGdlQmFzZShcclxuICAgICAga2JJZHMuc2VsZWN0aW9uLFxyXG4gICAgICBjb250ZW50cy5zZWxlY3Rpb24sXHJcbiAgICAgICdTw6lsZWN0aW9uJyxcclxuICAgICAgJ0JvbmpvdXIgISdcclxuICAgICk7XHJcbiAgICBpZiAoIXJlc3VsdFNlbGVjdGlvbi5zdWNjZXNzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEtCIFPDqWxlY3Rpb246ICR7cmVzdWx0U2VsZWN0aW9uLmVycm9yfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCfinIUgW0hleUdlbiBBUEldIExlcyAzIEtCIG9udCDDqXTDqSBtaXNlcyDDoCBqb3VyIGF2ZWMgc3VjY8OocycpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdMZXMgMyBLQiBvbnQgw6l0w6kgbWlzZXMgw6Agam91ciBhdmVjIHN1Y2PDqHMnLFxyXG4gICAgfTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbSGV5R2VuIEFQSV0gRXJyZXVyIG1pc2Ugw6Agam91ciBkZXMgS0I6JywgZXJyb3IpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0VycmV1ciBpbmNvbm51ZScsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsidXBkYXRlSGV5R2VuS25vd2xlZGdlQmFzZSIsImtiSWQiLCJjb250ZW50IiwibmFtZSIsIm9wZW5pbmciLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiYmFzZVVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwiYXBpVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImtub3dsZWRnZUlkIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsInN0YXR1cyIsIkVycm9yIiwiZGF0YSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidXBkYXRlUG9zdGVLbm93bGVkZ2VCYXNlcyIsImtiSWRzIiwiY29udGVudHMiLCJyZXN1bHREZWNvdXZlcnRlIiwiZGVjb3V2ZXJ0ZSIsInJlc3VsdFByZXNlbGVjdGlvbiIsInByZXNlbGVjdGlvbiIsInJlc3VsdFNlbGVjdGlvbiIsInNlbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/lib/services/heygenApiService.ts\n");

/***/ }),

/***/ "(ssr)/./app/lib/services/knowledgeBaseCompilerService.ts":
/*!**********************************************************!*\
  !*** ./app/lib/services/knowledgeBaseCompilerService.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compileKnowledgeBases: () => (/* binding */ compileKnowledgeBases)\n/* harmony export */ });\n/* harmony import */ var _app_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/app/lib/supabaseClient */ \"(ssr)/./app/lib/supabaseClient.ts\");\n/* harmony import */ var _app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/lib/services/knowledgeBasePoolService */ \"(ssr)/./app/lib/services/knowledgeBasePoolService.ts\");\n/* harmony import */ var _app_lib_services_heygenApiService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/lib/services/heygenApiService */ \"(ssr)/./app/lib/services/heygenApiService.ts\");\n/**\r\n * Knowledge Base Compiler Service v0.11\r\n * \r\n * Service de compilation et assignation des Knowledge Bases HeyGen pour les postes.\r\n * Orchestre le processus complet :\r\n * 1. R√©cup√©ration des donn√©es du poste\r\n * 2. Assignation des 3 KB depuis le pool\r\n * 3. Formatage du contenu sp√©cifique par phase\r\n * 4. Mise √† jour via API HeyGen\r\n * 5. Sauvegarde en BDD\r\n * \r\n * @author NeoRecrut Team\r\n * @date 2025-10-31\r\n * @version 0.11 - Ajout √©tape 5 : Sauvegarde BDD compl√®te\r\n */ \n\n\n/**\r\n * Compile et assigne les 3 Knowledge Bases HeyGen pour un poste\r\n * \r\n * @param posteId - UUID du poste √† compiler\r\n * @returns R√©sultat de la compilation avec les IDs des KB assign√©es\r\n * \r\n * @example\r\n * const result = await compileKnowledgeBases('uuid-du-poste');\r\n * if (result.success) {\r\n *   console.log('KB compil√©es:', result);\r\n * }\r\n */ async function compileKnowledgeBases(posteId) {\n    console.log(`üîÑ [KB Compiler] D√©marrage compilation pour poste: ${posteId}`);\n    try {\n        // ====================================================================\n        // √âTAPE 2 : R√©cup√©ration des donn√©es du poste\n        // ====================================================================\n        console.log(`üìä [KB Compiler] R√©cup√©ration des donn√©es du poste...`);\n        const posteData = await fetchPosteData(posteId);\n        if (!posteData) {\n            throw new Error('Poste introuvable');\n        }\n        console.log(`‚úÖ [KB Compiler] Donn√©es r√©cup√©r√©es: ${posteData.titre}`);\n        // ====================================================================\n        // √âTAPE 3 : Assignation des 3 KB depuis le pool\n        // ====================================================================\n        console.log(`üéØ [KB Compiler] Assignation des KB depuis le pool...`);\n        // R√©cup√©rer et assigner KB D√©couverte (Acte 1)\n        const kbDecouverteAvailable = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.getAvailableKB)('decouverte', 'generique');\n        if (!kbDecouverteAvailable) {\n            throw new Error('Aucune KB D√©couverte disponible dans le pool');\n        }\n        const assignedDecouverte = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.assignKBToPoste)(kbDecouverteAvailable.id, posteId);\n        if (!assignedDecouverte) {\n            throw new Error('Erreur lors de l\\'assignation de la KB D√©couverte');\n        }\n        console.log(`‚úÖ [KB Compiler] KB D√©couverte assign√©e: ${kbDecouverteAvailable.heygen_kb_id}`);\n        // R√©cup√©rer et assigner KB Pr√©s√©lection (Acte 2)\n        const kbPreselectionAvailable = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.getAvailableKB)('preselection', 'generique');\n        if (!kbPreselectionAvailable) {\n            throw new Error('Aucune KB Pr√©s√©lection disponible dans le pool');\n        }\n        const assignedPreselection = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.assignKBToPoste)(kbPreselectionAvailable.id, posteId);\n        if (!assignedPreselection) {\n            throw new Error('Erreur lors de l\\'assignation de la KB Pr√©s√©lection');\n        }\n        console.log(`‚úÖ [KB Compiler] KB Pr√©s√©lection assign√©e: ${kbPreselectionAvailable.heygen_kb_id}`);\n        // R√©cup√©rer et assigner KB S√©lection (Acte 3)\n        const kbSelectionAvailable = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.getAvailableKB)('selection', 'generique');\n        if (!kbSelectionAvailable) {\n            throw new Error('Aucune KB S√©lection disponible dans le pool');\n        }\n        const assignedSelection = await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.assignKBToPoste)(kbSelectionAvailable.id, posteId);\n        if (!assignedSelection) {\n            throw new Error('Erreur lors de l\\'assignation de la KB S√©lection');\n        }\n        console.log(`‚úÖ [KB Compiler] KB S√©lection assign√©e: ${kbSelectionAvailable.heygen_kb_id}`);\n        const kb_decouverte_id = kbDecouverteAvailable.heygen_kb_id;\n        const kb_preselection_id = kbPreselectionAvailable.heygen_kb_id;\n        const kb_selection_id = kbSelectionAvailable.heygen_kb_id;\n        // ====================================================================\n        // √âTAPE 4 : Formatage du contenu pour chaque KB\n        // ====================================================================\n        console.log(`üìù [KB Compiler] Formatage du contenu...`);\n        const decouverteContent = formatDecouverteContent(posteData);\n        console.log(`‚úÖ [KB Compiler] Contenu D√©couverte format√© (${decouverteContent.length} caract√®res)`);\n        const preselectionContent = formatPreselectionContent(posteData);\n        console.log(`‚úÖ [KB Compiler] Contenu Pr√©s√©lection format√© (${preselectionContent.length} caract√®res)`);\n        const selectionContent = formatSelectionContent(posteData);\n        console.log(`‚úÖ [KB Compiler] Contenu S√©lection format√© (${selectionContent.length} caract√®res)`);\n        // ====================================================================\n        // √âTAPE 5 : Mise √† jour via API HeyGen\n        // ====================================================================\n        console.log(`üîÑ [KB Compiler] Mise √† jour API HeyGen...`);\n        const updateResult = await (0,_app_lib_services_heygenApiService__WEBPACK_IMPORTED_MODULE_2__.updatePosteKnowledgeBases)({\n            decouverte: kb_decouverte_id,\n            preselection: kb_preselection_id,\n            selection: kb_selection_id\n        }, {\n            decouverte: decouverteContent,\n            preselection: preselectionContent,\n            selection: selectionContent\n        });\n        if (!updateResult.success) {\n            throw new Error(`Erreur mise √† jour HeyGen: ${updateResult.error}`);\n        }\n        console.log(`‚úÖ [KB Compiler] Mise √† jour HeyGen termin√©e`);\n        // ====================================================================\n        // √âTAPE 6 : Sauvegarde en BDD\n        // ====================================================================\n        console.log(`üíæ [KB Compiler] Sauvegarde en BDD...`);\n        const saveResult = await saveKBCompilationToBDD(posteId, kb_decouverte_id, kb_preselection_id, kb_selection_id, decouverteContent, preselectionContent, selectionContent);\n        if (!saveResult.success) {\n            console.warn('‚ö†Ô∏è [KB Compiler] Avertissement lors de la sauvegarde BDD:', saveResult.error);\n        // On continue quand m√™me car les KB sont d√©j√† mises √† jour dans HeyGen\n        } else {\n            console.log(`‚úÖ [KB Compiler] Sauvegarde BDD termin√©e`);\n        }\n        console.log(`‚úÖ [KB Compiler] Compilation termin√©e avec succ√®s`);\n        return {\n            success: true,\n            kb_decouverte_id,\n            kb_preselection_id,\n            kb_selection_id,\n            message: 'Compilation des Knowledge Bases r√©ussie'\n        };\n    } catch (error) {\n        console.error('‚ùå [KB Compiler] Erreur lors de la compilation:', error);\n        // Lib√©rer les KB potentiellement assign√©es\n        console.log('üîÑ [KB Compiler] Lib√©ration des KB assign√©es...');\n        try {\n            // R√©cup√©rer les KB assign√©es √† ce poste pour les lib√©rer\n            const { data: assignedKBs } = await _app_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('knowledge_bases_pool').select('id, heygen_kb_id').eq('poste_id', posteId);\n            if (assignedKBs && assignedKBs.length > 0) {\n                for (const kb of assignedKBs){\n                    await (0,_app_lib_services_knowledgeBasePoolService__WEBPACK_IMPORTED_MODULE_1__.releaseKB)(kb.id);\n                }\n                console.log(`‚úÖ [KB Compiler] ${assignedKBs.length} KB lib√©r√©e(s) avec succ√®s`);\n            }\n        } catch (releaseError) {\n            console.error('‚ùå [KB Compiler] Erreur lors de la lib√©ration des KB:', releaseError);\n        }\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Erreur inconnue lors de la compilation'\n        };\n    }\n}\n/**\r\n * Sauvegarde les r√©sultats de la compilation KB dans la table postes\r\n * \r\n * @param posteId - UUID du poste\r\n * @param kb_decouverte_id - ID HeyGen de la KB D√©couverte\r\n * @param kb_preselection_id - ID HeyGen de la KB Pr√©s√©lection\r\n * @param kb_selection_id - ID HeyGen de la KB S√©lection\r\n * @param decouverteContent - Snapshot du contenu D√©couverte\r\n * @param preselectionContent - Snapshot du contenu Pr√©s√©lection\r\n * @param selectionContent - Snapshot du contenu S√©lection\r\n * @returns R√©sultat de la sauvegarde\r\n */ async function saveKBCompilationToBDD(posteId, kb_decouverte_id, kb_preselection_id, kb_selection_id, decouverteContent, preselectionContent, selectionContent) {\n    try {\n        const { data, error } = await _app_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('postes').update({\n            kb_decouverte_id: kb_decouverte_id,\n            kb_preselection_id: kb_preselection_id,\n            kb_selection_id: kb_selection_id,\n            kb_decouverte_content: decouverteContent,\n            kb_preselection_content: preselectionContent,\n            kb_selection_content: selectionContent,\n            kb_compiled_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).eq('id', posteId);\n        if (error) {\n            console.error('‚ùå [KB Compiler] Erreur sauvegarde BDD:', error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n        console.log(`‚úÖ [KB Compiler] Donn√©es sauvegard√©es en BDD pour le poste ${posteId}`);\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error('‚ùå [KB Compiler] Exception lors de la sauvegarde:', error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Erreur inconnue'\n        };\n    }\n}\n/**\r\n * R√©cup√®re les donn√©es compl√®tes du poste avec jointure entreprise\r\n * \r\n * @param posteId - UUID du poste\r\n * @returns Donn√©es du poste ou null si introuvable\r\n */ async function fetchPosteData(posteId) {\n    // R√©cup√©rer le poste\n    const { data: posteData, error: posteError } = await _app_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('postes').select('*').eq('id', posteId).single();\n    if (posteError) {\n        console.error('‚ùå [KB Compiler] Erreur r√©cup√©ration poste:', posteError);\n        return null;\n    }\n    if (!posteData) {\n        console.error('‚ùå [KB Compiler] Poste introuvable');\n        return null;\n    }\n    // R√©cup√©rer l'entreprise associ√©e\n    let entrepriseData = null;\n    if (posteData.entreprise_id) {\n        const { data: entreprise, error: entrepriseError } = await _app_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabase.from('entreprises').select('nom, description, ville, pays').eq('id', posteData.entreprise_id).single();\n        if (!entrepriseError && entreprise) {\n            entrepriseData = entreprise;\n        } else {\n            console.warn('‚ö†Ô∏è [KB Compiler] Entreprise non trouv√©e pour ce poste');\n        }\n    }\n    // Validation des donn√©es critiques\n    if (!posteData.definition_data || Object.keys(posteData.definition_data).length === 0) {\n        console.warn('‚ö†Ô∏è [KB Compiler] Attention: definition_data vide');\n    }\n    if (!posteData.job_description) {\n        console.warn('‚ö†Ô∏è [KB Compiler] Attention: job_description manquante');\n    }\n    // Construire l'objet final\n    return {\n        ...posteData,\n        entreprise: entrepriseData\n    };\n}\n/**\r\n * Formate le contenu de la KB D√©couverte (Acte 1)\r\n * \r\n * @param posteData - Donn√©es du poste\r\n * @returns Contenu format√© pour la KB\r\n */ function formatDecouverteContent(posteData) {\n    const entreprise = posteData.entreprise;\n    return `# POSTE : ${posteData.titre}\n\n## üè¢ ENTREPRISE\n**Nom** : ${entreprise?.nom || 'Non renseign√©'}\n**Secteur** : ${entreprise?.secteur || 'Non renseign√©'}\n**Localisation** : ${entreprise?.ville || ''}, ${entreprise?.pays || ''}\n${entreprise?.taille ? `**Taille** : ${entreprise.taille}` : ''}\n${entreprise?.site_web ? `**Site web** : ${entreprise.site_web}` : ''}\n\n### √Ä propos de l'entreprise\n${entreprise?.description || 'Non renseign√©'}\n\n## üìç LOCALISATION DU POSTE\n**Lieu** : ${posteData.ville || 'Non renseign√©'}, ${posteData.pays || ''}\n${posteData.remote_complet ? 'üè† **T√©l√©travail complet possible**' : ''}\n${posteData.remote_partiel ? 'üè† **T√©l√©travail partiel possible**' : ''}\n${!posteData.remote_possible ? 'üè¢ **Poste en pr√©sentiel**' : ''}\n\n## üíº TYPE DE CONTRAT\n**Type** : ${posteData.type_contrat || 'Non renseign√©'}\n${posteData.date_debut_souhaitee ? `**D√©but souhait√©** : ${posteData.date_debut_souhaitee}` : ''}\n\n## üí∞ R√âMUN√âRATION\n${posteData.salaire_min && posteData.salaire_max ? `**Fourchette** : ${posteData.salaire_min} - ${posteData.salaire_max} ${posteData.devise || 'EUR'}` : '√Ä discuter selon profil'}\n${posteData.avantages ? `\\n**Avantages** : ${posteData.avantages}` : ''}\n\n## üéØ PR√âSENTATION DU POSTE\n${posteData.description || 'Description d√©taill√©e √† venir'}\n\n## üìö PROFIL RECHERCH√â\n${posteData.niveau_etude_min ? `**Formation** : ${posteData.niveau_etude_min}` : ''}\n${posteData.experience_min_annees !== null ? `**Exp√©rience** : ${posteData.experience_min_annees} ans minimum` : ''}\n${posteData.seniorite ? `**Niveau** : ${posteData.seniorite}` : ''}\n\n---\n*Acte 1 - Entretien de D√©couverte*\n`;\n}\n/**\r\n * Formate le contenu de la KB Pr√©s√©lection (Acte 2)\r\n * \r\n * @param posteData - Donn√©es du poste\r\n * @returns Contenu format√© pour la KB\r\n */ function formatPreselectionContent(posteData) {\n    const entreprise = posteData.entreprise;\n    const criteres = posteData.criteres_redhibitoires || {};\n    const competences = posteData.competences || {};\n    return `# POSTE : ${posteData.titre}\n**Entreprise** : ${entreprise?.nom || 'Non renseign√©'}\n\n## ‚ö†Ô∏è CRIT√àRES R√âDHIBITOIRES\n${Object.keys(criteres).length > 0 ? Object.entries(criteres).map(([key, value])=>`- **${key}** : ${value}`).join('\\n') : 'Aucun crit√®re r√©dhibitoire d√©fini'}\n\n## üéØ COMP√âTENCES REQUISES\n${Object.keys(competences).length > 0 ? Object.entries(competences).map(([key, value])=>{\n        if (typeof value === 'object' && value !== null) {\n            const comp = value;\n            return `### ${key}\n**Niveau requis** : ${comp.niveau || 'Non sp√©cifi√©'}\n**Importance** : ${comp.importance || 'Non sp√©cifi√©'}\n${comp.description ? `**Description** : ${comp.description}` : ''}`;\n        }\n        return `- **${key}** : ${value}`;\n    }).join('\\n\\n') : 'Comp√©tences √† d√©finir'}\n\n## üíº CONTEXTE DU POSTE\n${posteData.description || 'Non renseign√©'}\n\n## üìö FORMATION & EXP√âRIENCE\n${posteData.niveau_etude_min ? `**Formation minimum** : ${posteData.niveau_etude_min}` : ''}\n${posteData.experience_min_annees !== null ? `**Exp√©rience minimum** : ${posteData.experience_min_annees} ans` : ''}\n${posteData.seniorite ? `**Niveau de s√©niorit√©** : ${posteData.seniorite}` : ''}\n\n## üè¢ LIEU DE TRAVAIL\n**Localisation** : ${posteData.ville || 'Non renseign√©'}, ${posteData.pays || ''}\n${posteData.remote_complet ? '‚úÖ T√©l√©travail complet possible' : ''}\n${posteData.remote_partiel ? '‚úÖ T√©l√©travail partiel possible' : ''}\n\n---\n*Acte 2 - Entretien de Pr√©s√©lection*\n*√âvaluation des comp√©tences techniques et des crit√®res obligatoires*\n`;\n}\n/**\r\n * Formate le contenu de la KB S√©lection (Acte 3)\r\n * \r\n * @param posteData - Donn√©es du poste\r\n * @returns Contenu format√© pour la KB\r\n */ function formatSelectionContent(posteData) {\n    const entreprise = posteData.entreprise;\n    const jobDescription = posteData.job_description;\n    const competences = posteData.competences || {};\n    return `# FICHE DE POSTE COMPL√àTE : ${posteData.titre}\n\n## üè¢ ENTREPRISE\n**Nom** : ${entreprise?.nom || 'Non renseign√©'}\n**Secteur** : ${entreprise?.secteur || 'Non renseign√©'}\n**Localisation** : ${entreprise?.ville || ''}, ${entreprise?.pays || ''}\n${entreprise?.taille ? `**Taille** : ${entreprise.taille}` : ''}\n${entreprise?.site_web ? `**Site web** : ${entreprise.site_web}` : ''}\n\n${entreprise?.description ? `### √Ä propos\\n${entreprise.description}\\n` : ''}\n\n## üìã DESCRIPTION D√âTAILL√âE DU POSTE\n${jobDescription || posteData.description || 'Description non disponible'}\n\n## üéØ COMP√âTENCES CL√âS\n${Object.keys(competences).length > 0 ? Object.entries(competences).map(([key, value])=>{\n        if (typeof value === 'object' && value !== null) {\n            const comp = value;\n            return `### ${key}\n- **Niveau requis** : ${comp.niveau || 'Non sp√©cifi√©'}\n- **Importance** : ${comp.importance || 'Non sp√©cifi√©'}\n${comp.description ? `- **Description** : ${comp.description}` : ''}\n${comp.exemples ? `- **Exemples d'application** : ${comp.exemples}` : ''}`;\n        }\n        return `- **${key}** : ${value}`;\n    }).join('\\n\\n') : 'Comp√©tences √† d√©finir'}\n\n## üíº CONDITIONS\n**Type de contrat** : ${posteData.type_contrat || 'Non renseign√©'}\n${posteData.date_debut_souhaitee ? `**D√©but souhait√©** : ${posteData.date_debut_souhaitee}` : ''}\n**Localisation** : ${posteData.ville || 'Non renseign√©'}, ${posteData.pays || ''}\n${posteData.remote_complet ? 'üè† **T√©l√©travail complet possible**' : ''}\n${posteData.remote_partiel ? 'üè† **T√©l√©travail partiel possible**' : ''}\n\n## üí∞ R√âMUN√âRATION & AVANTAGES\n${posteData.salaire_min && posteData.salaire_max ? `**Fourchette salariale** : ${posteData.salaire_min} - ${posteData.salaire_max} ${posteData.devise || 'EUR'}` : '**R√©mun√©ration** : √Ä discuter selon profil et exp√©rience'}\n${posteData.avantages ? `\\n**Avantages** :\\n${posteData.avantages}` : ''}\n\n## üìö PROFIL RECHERCH√â\n${posteData.niveau_etude_min ? `**Formation** : ${posteData.niveau_etude_min}` : ''}\n${posteData.experience_min_annees !== null ? `**Exp√©rience** : ${posteData.experience_min_annees} ans minimum` : ''}\n${posteData.seniorite ? `**Niveau de s√©niorit√©** : ${posteData.seniorite}` : ''}\n\n---\n*Acte 3 - Entretien de S√©lection*\n*√âvaluation approfondie des comp√©tences, soft skills et fit culturel*\n`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvbGliL3NlcnZpY2VzL2tub3dsZWRnZUJhc2VDb21waWxlclNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7OztDQWNDLEdBRW1EO0FBQ3FEO0FBQ3pCO0FBMkRoRjs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLGVBQWVLLHNCQUFzQkMsT0FBZTtJQUN6REMsUUFBUUMsR0FBRyxDQUFDLENBQUMsbURBQW1ELEVBQUVGLFNBQVM7SUFFM0UsSUFBSTtRQUNGLHVFQUF1RTtRQUN2RSw4Q0FBOEM7UUFDOUMsdUVBQXVFO1FBQ3ZFQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxREFBcUQsQ0FBQztRQUVuRSxNQUFNQyxZQUFZLE1BQU1DLGVBQWVKO1FBRXZDLElBQUksQ0FBQ0csV0FBVztZQUNkLE1BQU0sSUFBSUUsTUFBTTtRQUNsQjtRQUVBSixRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRUMsVUFBVUcsS0FBSyxFQUFFO1FBRXBFLHVFQUF1RTtRQUN2RSxnREFBZ0Q7UUFDaEQsdUVBQXVFO1FBQ3ZFTCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxREFBcUQsQ0FBQztRQUVuRSwrQ0FBK0M7UUFDL0MsTUFBTUssd0JBQXdCLE1BQU1WLDBGQUFjQSxDQUFDLGNBQWM7UUFDakUsSUFBSSxDQUFDVSx1QkFBdUI7WUFDMUIsTUFBTSxJQUFJRixNQUFNO1FBQ2xCO1FBQ0EsTUFBTUcscUJBQXFCLE1BQU1iLDJGQUFlQSxDQUFDWSxzQkFBc0JFLEVBQUUsRUFBRVQ7UUFDM0UsSUFBSSxDQUFDUSxvQkFBb0I7WUFDdkIsTUFBTSxJQUFJSCxNQUFNO1FBQ2xCO1FBQ0FKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdDQUF3QyxFQUFFSyxzQkFBc0JHLFlBQVksRUFBRTtRQUUzRixpREFBaUQ7UUFDakQsTUFBTUMsMEJBQTBCLE1BQU1kLDBGQUFjQSxDQUFDLGdCQUFnQjtRQUNyRSxJQUFJLENBQUNjLHlCQUF5QjtZQUM1QixNQUFNLElBQUlOLE1BQU07UUFDbEI7UUFDQSxNQUFNTyx1QkFBdUIsTUFBTWpCLDJGQUFlQSxDQUFDZ0Isd0JBQXdCRixFQUFFLEVBQUVUO1FBQy9FLElBQUksQ0FBQ1ksc0JBQXNCO1lBQ3pCLE1BQU0sSUFBSVAsTUFBTTtRQUNsQjtRQUNBSixRQUFRQyxHQUFHLENBQUMsQ0FBQywwQ0FBMEMsRUFBRVMsd0JBQXdCRCxZQUFZLEVBQUU7UUFFL0YsOENBQThDO1FBQzlDLE1BQU1HLHVCQUF1QixNQUFNaEIsMEZBQWNBLENBQUMsYUFBYTtRQUMvRCxJQUFJLENBQUNnQixzQkFBc0I7WUFDekIsTUFBTSxJQUFJUixNQUFNO1FBQ2xCO1FBQ0EsTUFBTVMsb0JBQW9CLE1BQU1uQiwyRkFBZUEsQ0FBQ2tCLHFCQUFxQkosRUFBRSxFQUFFVDtRQUN6RSxJQUFJLENBQUNjLG1CQUFtQjtZQUN0QixNQUFNLElBQUlULE1BQU07UUFDbEI7UUFDQUosUUFBUUMsR0FBRyxDQUFDLENBQUMsdUNBQXVDLEVBQUVXLHFCQUFxQkgsWUFBWSxFQUFFO1FBRXpGLE1BQU1LLG1CQUFtQlIsc0JBQXNCRyxZQUFZO1FBQzNELE1BQU1NLHFCQUFxQkwsd0JBQXdCRCxZQUFZO1FBQy9ELE1BQU1PLGtCQUFrQkoscUJBQXFCSCxZQUFZO1FBRXpELHVFQUF1RTtRQUN2RSxnREFBZ0Q7UUFDaEQsdUVBQXVFO1FBQ3ZFVCxRQUFRQyxHQUFHLENBQUMsQ0FBQyx3Q0FBd0MsQ0FBQztRQUV0RCxNQUFNZ0Isb0JBQW9CQyx3QkFBd0JoQjtRQUNsREYsUUFBUUMsR0FBRyxDQUFDLENBQUMsNENBQTRDLEVBQUVnQixrQkFBa0JFLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFFakcsTUFBTUMsc0JBQXNCQywwQkFBMEJuQjtRQUN0REYsUUFBUUMsR0FBRyxDQUFDLENBQUMsOENBQThDLEVBQUVtQixvQkFBb0JELE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFFckcsTUFBTUcsbUJBQW1CQyx1QkFBdUJyQjtRQUNoREYsUUFBUUMsR0FBRyxDQUFDLENBQUMsMkNBQTJDLEVBQUVxQixpQkFBaUJILE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFHL0YsdUVBQXVFO1FBQ3ZFLHVDQUF1QztRQUN2Qyx1RUFBdUU7UUFDdkVuQixRQUFRQyxHQUFHLENBQUMsQ0FBQywwQ0FBMEMsQ0FBQztRQUV4RCxNQUFNdUIsZUFBZSxNQUFNM0IsNkZBQXlCQSxDQUNsRDtZQUNFNEIsWUFBWVg7WUFDWlksY0FBY1g7WUFDZFksV0FBV1g7UUFDYixHQUNBO1lBQ0VTLFlBQVlSO1lBQ1pTLGNBQWNOO1lBQ2RPLFdBQVdMO1FBQ2I7UUFHRixJQUFJLENBQUNFLGFBQWFJLE9BQU8sRUFBRTtZQUN6QixNQUFNLElBQUl4QixNQUFNLENBQUMsMkJBQTJCLEVBQUVvQixhQUFhSyxLQUFLLEVBQUU7UUFDcEU7UUFFQTdCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJDQUEyQyxDQUFDO1FBR3pELHVFQUF1RTtRQUN2RSw4QkFBOEI7UUFDOUIsdUVBQXVFO1FBQ3ZFRCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQztRQUVuRCxNQUFNNkIsYUFBYSxNQUFNQyx1QkFDdkJoQyxTQUNBZSxrQkFDQUMsb0JBQ0FDLGlCQUNBQyxtQkFDQUcscUJBQ0FFO1FBR0YsSUFBSSxDQUFDUSxXQUFXRixPQUFPLEVBQUU7WUFDdkI1QixRQUFRZ0MsSUFBSSxDQUFDLDZEQUE2REYsV0FBV0QsS0FBSztRQUMxRix1RUFBdUU7UUFDekUsT0FBTztZQUNMN0IsUUFBUUMsR0FBRyxDQUFDLENBQUMsdUNBQXVDLENBQUM7UUFDdkQ7UUFFQUQsUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0RBQWdELENBQUM7UUFFOUQsT0FBTztZQUNMMkIsU0FBUztZQUNUZDtZQUNBQztZQUNBQztZQUNBaUIsU0FBUztRQUNYO0lBRUYsRUFBRSxPQUFPSixPQUFPO1FBQ2Q3QixRQUFRNkIsS0FBSyxDQUFDLGtEQUFrREE7UUFFaEUsMkNBQTJDO1FBQzNDN0IsUUFBUUMsR0FBRyxDQUFDO1FBQ1osSUFBSTtZQUNGLHlEQUF5RDtZQUN6RCxNQUFNLEVBQUVpQyxNQUFNQyxXQUFXLEVBQUUsR0FBRyxNQUFNMUMsNkRBQVFBLENBQ3pDMkMsSUFBSSxDQUFDLHdCQUNMQyxNQUFNLENBQUMsb0JBQ1BDLEVBQUUsQ0FBQyxZQUFZdkM7WUFFbEIsSUFBSW9DLGVBQWVBLFlBQVloQixNQUFNLEdBQUcsR0FBRztnQkFDekMsS0FBSyxNQUFNb0IsTUFBTUosWUFBYTtvQkFDNUIsTUFBTXhDLHFGQUFTQSxDQUFDNEMsR0FBRy9CLEVBQUU7Z0JBQ3ZCO2dCQUNBUixRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWtDLFlBQVloQixNQUFNLENBQUMsMEJBQTBCLENBQUM7WUFDL0U7UUFDRixFQUFFLE9BQU9xQixjQUFjO1lBQ3JCeEMsUUFBUTZCLEtBQUssQ0FBQyx3REFBd0RXO1FBQ3hFO1FBRUEsT0FBTztZQUNMWixTQUFTO1lBQ1RDLE9BQU9BLGlCQUFpQnpCLFFBQVF5QixNQUFNSSxPQUFPLEdBQUc7UUFDbEQ7SUFDRjtBQUNGO0FBRUE7Ozs7Ozs7Ozs7O0NBV0MsR0FDRCxlQUFlRix1QkFDYmhDLE9BQWUsRUFDZmUsZ0JBQXdCLEVBQ3hCQyxrQkFBMEIsRUFDMUJDLGVBQXVCLEVBQ3ZCQyxpQkFBeUIsRUFDekJHLG1CQUEyQixFQUMzQkUsZ0JBQXdCO0lBRXhCLElBQUk7UUFDRixNQUFNLEVBQUVZLElBQUksRUFBRUwsS0FBSyxFQUFFLEdBQUcsTUFBTXBDLDZEQUFRQSxDQUNuQzJDLElBQUksQ0FBQyxVQUNMSyxNQUFNLENBQUM7WUFDTjNCLGtCQUFrQkE7WUFDbEJDLG9CQUFvQkE7WUFDcEJDLGlCQUFpQkE7WUFDakIwQix1QkFBdUJ6QjtZQUN2QjBCLHlCQUF5QnZCO1lBQ3pCd0Isc0JBQXNCdEI7WUFDdEJ1QixnQkFBZ0IsSUFBSUMsT0FBT0MsV0FBVztZQUN0Q0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO1FBQ3BDLEdBQ0NULEVBQUUsQ0FBQyxNQUFNdkM7UUFFWixJQUFJOEIsT0FBTztZQUNUN0IsUUFBUTZCLEtBQUssQ0FBQywwQ0FBMENBO1lBQ3hELE9BQU87Z0JBQ0xELFNBQVM7Z0JBQ1RDLE9BQU9BLE1BQU1JLE9BQU87WUFDdEI7UUFDRjtRQUVBakMsUUFBUUMsR0FBRyxDQUFDLENBQUMsMERBQTBELEVBQUVGLFNBQVM7UUFFbEYsT0FBTztZQUNMNkIsU0FBUztRQUNYO0lBRUYsRUFBRSxPQUFPQyxPQUFPO1FBQ2Q3QixRQUFRNkIsS0FBSyxDQUFDLG9EQUFvREE7UUFDbEUsT0FBTztZQUNMRCxTQUFTO1lBQ1RDLE9BQU9BLGlCQUFpQnpCLFFBQVF5QixNQUFNSSxPQUFPLEdBQUc7UUFDbEQ7SUFDRjtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDRCxlQUFlOUIsZUFBZUosT0FBZTtJQUMzQyxxQkFBcUI7SUFDckIsTUFBTSxFQUFFbUMsTUFBTWhDLFNBQVMsRUFBRTJCLE9BQU9vQixVQUFVLEVBQUUsR0FBRyxNQUFNeEQsNkRBQVFBLENBQzFEMkMsSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsTUFBTXZDLFNBQ1RtRCxNQUFNO0lBRVQsSUFBSUQsWUFBWTtRQUNkakQsUUFBUTZCLEtBQUssQ0FBQyw4Q0FBOENvQjtRQUM1RCxPQUFPO0lBQ1Q7SUFFQSxJQUFJLENBQUMvQyxXQUFXO1FBQ2RGLFFBQVE2QixLQUFLLENBQUM7UUFDZCxPQUFPO0lBQ1Q7SUFFQSxrQ0FBa0M7SUFDbEMsSUFBSXNCLGlCQUFpQjtJQUNyQixJQUFJakQsVUFBVWtELGFBQWEsRUFBRTtRQUMzQixNQUFNLEVBQUVsQixNQUFNbUIsVUFBVSxFQUFFeEIsT0FBT3lCLGVBQWUsRUFBRSxHQUFHLE1BQU03RCw2REFBUUEsQ0FDaEUyQyxJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDLGlDQUNQQyxFQUFFLENBQUMsTUFBTXBDLFVBQVVrRCxhQUFhLEVBQ2hDRixNQUFNO1FBRVQsSUFBSSxDQUFDSSxtQkFBbUJELFlBQVk7WUFDbENGLGlCQUFpQkU7UUFDbkIsT0FBTztZQUNMckQsUUFBUWdDLElBQUksQ0FBQztRQUNmO0lBQ0Y7SUFFQSxtQ0FBbUM7SUFDbkMsSUFBSSxDQUFDOUIsVUFBVXFELGVBQWUsSUFBSUMsT0FBT0MsSUFBSSxDQUFDdkQsVUFBVXFELGVBQWUsRUFBRXBDLE1BQU0sS0FBSyxHQUFHO1FBQ3JGbkIsUUFBUWdDLElBQUksQ0FBQztJQUNmO0lBRUEsSUFBSSxDQUFDOUIsVUFBVXdELGVBQWUsRUFBRTtRQUM5QjFELFFBQVFnQyxJQUFJLENBQUM7SUFDZjtJQUVBLDJCQUEyQjtJQUMzQixPQUFPO1FBQ0wsR0FBRzlCLFNBQVM7UUFDWm1ELFlBQVlGO0lBQ2Q7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ0QsU0FBU2pDLHdCQUF3QmhCLFNBQW9CO0lBQ25ELE1BQU1tRCxhQUFhbkQsVUFBVW1ELFVBQVU7SUFFdkMsT0FBTyxDQUFDLFVBQVUsRUFBRW5ELFVBQVVHLEtBQUssQ0FBQzs7O1VBRzVCLEVBQUVnRCxZQUFZTSxPQUFPLGdCQUFnQjtjQUNqQyxFQUFFTixZQUFZTyxXQUFXLGdCQUFnQjttQkFDcEMsRUFBRVAsWUFBWVEsU0FBUyxHQUFHLEVBQUUsRUFBRVIsWUFBWVMsUUFBUSxHQUFHO0FBQ3hFLEVBQUVULFlBQVlVLFNBQVMsQ0FBQyxhQUFhLEVBQUVWLFdBQVdVLE1BQU0sRUFBRSxHQUFHLEdBQUc7QUFDaEUsRUFBRVYsWUFBWVcsV0FBVyxDQUFDLGVBQWUsRUFBRVgsV0FBV1csUUFBUSxFQUFFLEdBQUcsR0FBRzs7O0FBR3RFLEVBQUVYLFlBQVlZLGVBQWUsZ0JBQWdCOzs7V0FHbEMsRUFBRS9ELFVBQVUyRCxLQUFLLElBQUksZ0JBQWdCLEVBQUUsRUFBRTNELFVBQVU0RCxJQUFJLElBQUksR0FBRztBQUN6RSxFQUFFNUQsVUFBVWdFLGNBQWMsR0FBRyx3Q0FBd0MsR0FBRztBQUN4RSxFQUFFaEUsVUFBVWlFLGNBQWMsR0FBRyx3Q0FBd0MsR0FBRztBQUN4RSxFQUFFLENBQUNqRSxVQUFVa0UsZUFBZSxHQUFHLCtCQUErQixHQUFHOzs7V0FHdEQsRUFBRWxFLFVBQVVtRSxZQUFZLElBQUksZ0JBQWdCO0FBQ3ZELEVBQUVuRSxVQUFVb0Usb0JBQW9CLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRXBFLFVBQVVvRSxvQkFBb0IsRUFBRSxHQUFHLEdBQUc7OztBQUdqRyxFQUFFcEUsVUFBVXFFLFdBQVcsSUFBSXJFLFVBQVVzRSxXQUFXLEdBQzVDLENBQUMsaUJBQWlCLEVBQUV0RSxVQUFVcUUsV0FBVyxDQUFDLEdBQUcsRUFBRXJFLFVBQVVzRSxXQUFXLENBQUMsQ0FBQyxFQUFFdEUsVUFBVXVFLE1BQU0sSUFBSSxPQUFPLEdBQ25HLDBCQUEwQjtBQUM5QixFQUFFdkUsVUFBVXdFLFNBQVMsR0FBRyxDQUFDLGtCQUFrQixFQUFFeEUsVUFBVXdFLFNBQVMsRUFBRSxHQUFHLEdBQUc7OztBQUd4RSxFQUFFeEUsVUFBVStELFdBQVcsSUFBSSxnQ0FBZ0M7OztBQUczRCxFQUFFL0QsVUFBVXlFLGdCQUFnQixHQUFHLENBQUMsZ0JBQWdCLEVBQUV6RSxVQUFVeUUsZ0JBQWdCLEVBQUUsR0FBRyxHQUFHO0FBQ3BGLEVBQUV6RSxVQUFVMEUscUJBQXFCLEtBQUssT0FBTyxDQUFDLGlCQUFpQixFQUFFMUUsVUFBVTBFLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxHQUFHLEdBQUc7QUFDcEgsRUFBRTFFLFVBQVUyRSxTQUFTLEdBQUcsQ0FBQyxhQUFhLEVBQUUzRSxVQUFVMkUsU0FBUyxFQUFFLEdBQUcsR0FBRzs7OztBQUluRSxDQUFDO0FBQ0Q7QUFFQTs7Ozs7Q0FLQyxHQUNELFNBQVN4RCwwQkFBMEJuQixTQUFvQjtJQUNyRCxNQUFNbUQsYUFBYW5ELFVBQVVtRCxVQUFVO0lBQ3ZDLE1BQU15QixXQUFXNUUsVUFBVTZFLHNCQUFzQixJQUFJLENBQUM7SUFDdEQsTUFBTUMsY0FBYzlFLFVBQVU4RSxXQUFXLElBQUksQ0FBQztJQUU5QyxPQUFPLENBQUMsVUFBVSxFQUFFOUUsVUFBVUcsS0FBSyxDQUFDO2lCQUNyQixFQUFFZ0QsWUFBWU0sT0FBTyxnQkFBZ0I7OztBQUd0RCxFQUFFSCxPQUFPQyxJQUFJLENBQUNxQixVQUFVM0QsTUFBTSxHQUFHLElBQzdCcUMsT0FBT3lCLE9BQU8sQ0FBQ0gsVUFBVUksR0FBRyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTSxHQUFLLENBQUMsSUFBSSxFQUFFRCxJQUFJLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxJQUFJLENBQUMsUUFDL0Usb0NBQW9DOzs7QUFHeEMsRUFBRTdCLE9BQU9DLElBQUksQ0FBQ3VCLGFBQWE3RCxNQUFNLEdBQUcsSUFDaENxQyxPQUFPeUIsT0FBTyxDQUFDRCxhQUFhRSxHQUFHLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNO1FBQzNDLElBQUksT0FBT0EsVUFBVSxZQUFZQSxVQUFVLE1BQU07WUFDL0MsTUFBTUUsT0FBT0Y7WUFDYixPQUFPLENBQUMsSUFBSSxFQUFFRCxJQUFJO29CQUNOLEVBQUVHLEtBQUtDLE1BQU0sSUFBSSxlQUFlO2lCQUNuQyxFQUFFRCxLQUFLRSxVQUFVLElBQUksZUFBZTtBQUNyRCxFQUFFRixLQUFLckIsV0FBVyxHQUFHLENBQUMsa0JBQWtCLEVBQUVxQixLQUFLckIsV0FBVyxFQUFFLEdBQUcsSUFBSTtRQUM3RDtRQUNBLE9BQU8sQ0FBQyxJQUFJLEVBQUVrQixJQUFJLEtBQUssRUFBRUMsT0FBTztJQUNsQyxHQUFHQyxJQUFJLENBQUMsVUFDUix3QkFBd0I7OztBQUc1QixFQUFFbkYsVUFBVStELFdBQVcsSUFBSSxnQkFBZ0I7OztBQUczQyxFQUFFL0QsVUFBVXlFLGdCQUFnQixHQUFHLENBQUMsd0JBQXdCLEVBQUV6RSxVQUFVeUUsZ0JBQWdCLEVBQUUsR0FBRyxHQUFHO0FBQzVGLEVBQUV6RSxVQUFVMEUscUJBQXFCLEtBQUssT0FBTyxDQUFDLHlCQUF5QixFQUFFMUUsVUFBVTBFLHFCQUFxQixDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUc7QUFDcEgsRUFBRTFFLFVBQVUyRSxTQUFTLEdBQUcsQ0FBQywwQkFBMEIsRUFBRTNFLFVBQVUyRSxTQUFTLEVBQUUsR0FBRyxHQUFHOzs7bUJBRzdELEVBQUUzRSxVQUFVMkQsS0FBSyxJQUFJLGdCQUFnQixFQUFFLEVBQUUzRCxVQUFVNEQsSUFBSSxJQUFJLEdBQUc7QUFDakYsRUFBRTVELFVBQVVnRSxjQUFjLEdBQUcsbUNBQW1DLEdBQUc7QUFDbkUsRUFBRWhFLFVBQVVpRSxjQUFjLEdBQUcsbUNBQW1DLEdBQUc7Ozs7O0FBS25FLENBQUM7QUFDRDtBQUVBOzs7OztDQUtDLEdBQ0QsU0FBUzVDLHVCQUF1QnJCLFNBQW9CO0lBQ2xELE1BQU1tRCxhQUFhbkQsVUFBVW1ELFVBQVU7SUFDdkMsTUFBTW9DLGlCQUFpQnZGLFVBQVV3RCxlQUFlO0lBQ2hELE1BQU1zQixjQUFjOUUsVUFBVThFLFdBQVcsSUFBSSxDQUFDO0lBRTlDLE9BQU8sQ0FBQyw0QkFBNEIsRUFBRTlFLFVBQVVHLEtBQUssQ0FBQzs7O1VBRzlDLEVBQUVnRCxZQUFZTSxPQUFPLGdCQUFnQjtjQUNqQyxFQUFFTixZQUFZTyxXQUFXLGdCQUFnQjttQkFDcEMsRUFBRVAsWUFBWVEsU0FBUyxHQUFHLEVBQUUsRUFBRVIsWUFBWVMsUUFBUSxHQUFHO0FBQ3hFLEVBQUVULFlBQVlVLFNBQVMsQ0FBQyxhQUFhLEVBQUVWLFdBQVdVLE1BQU0sRUFBRSxHQUFHLEdBQUc7QUFDaEUsRUFBRVYsWUFBWVcsV0FBVyxDQUFDLGVBQWUsRUFBRVgsV0FBV1csUUFBUSxFQUFFLEdBQUcsR0FBRzs7QUFFdEUsRUFBRVgsWUFBWVksY0FBYyxDQUFDLGNBQWMsRUFBRVosV0FBV1ksV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUc7OztBQUc3RSxFQUFFd0Isa0JBQWtCdkYsVUFBVStELFdBQVcsSUFBSSw2QkFBNkI7OztBQUcxRSxFQUFFVCxPQUFPQyxJQUFJLENBQUN1QixhQUFhN0QsTUFBTSxHQUFHLElBQ2hDcUMsT0FBT3lCLE9BQU8sQ0FBQ0QsYUFBYUUsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtRQUMzQyxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxNQUFNO1lBQy9DLE1BQU1FLE9BQU9GO1lBQ2IsT0FBTyxDQUFDLElBQUksRUFBRUQsSUFBSTtzQkFDSixFQUFFRyxLQUFLQyxNQUFNLElBQUksZUFBZTttQkFDbkMsRUFBRUQsS0FBS0UsVUFBVSxJQUFJLGVBQWU7QUFDdkQsRUFBRUYsS0FBS3JCLFdBQVcsR0FBRyxDQUFDLG9CQUFvQixFQUFFcUIsS0FBS3JCLFdBQVcsRUFBRSxHQUFHLEdBQUc7QUFDcEUsRUFBRXFCLEtBQUtJLFFBQVEsR0FBRyxDQUFDLCtCQUErQixFQUFFSixLQUFLSSxRQUFRLEVBQUUsR0FBRyxJQUFJO1FBQ3BFO1FBQ0EsT0FBTyxDQUFDLElBQUksRUFBRVAsSUFBSSxLQUFLLEVBQUVDLE9BQU87SUFDbEMsR0FBR0MsSUFBSSxDQUFDLFVBQ1Isd0JBQXdCOzs7c0JBR04sRUFBRW5GLFVBQVVtRSxZQUFZLElBQUksZ0JBQWdCO0FBQ2xFLEVBQUVuRSxVQUFVb0Usb0JBQW9CLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRXBFLFVBQVVvRSxvQkFBb0IsRUFBRSxHQUFHLEdBQUc7bUJBQzlFLEVBQUVwRSxVQUFVMkQsS0FBSyxJQUFJLGdCQUFnQixFQUFFLEVBQUUzRCxVQUFVNEQsSUFBSSxJQUFJLEdBQUc7QUFDakYsRUFBRTVELFVBQVVnRSxjQUFjLEdBQUcsd0NBQXdDLEdBQUc7QUFDeEUsRUFBRWhFLFVBQVVpRSxjQUFjLEdBQUcsd0NBQXdDLEdBQUc7OztBQUd4RSxFQUFFakUsVUFBVXFFLFdBQVcsSUFBSXJFLFVBQVVzRSxXQUFXLEdBQzVDLENBQUMsMkJBQTJCLEVBQUV0RSxVQUFVcUUsV0FBVyxDQUFDLEdBQUcsRUFBRXJFLFVBQVVzRSxXQUFXLENBQUMsQ0FBQyxFQUFFdEUsVUFBVXVFLE1BQU0sSUFBSSxPQUFPLEdBQzdHLDJEQUEyRDtBQUMvRCxFQUFFdkUsVUFBVXdFLFNBQVMsR0FBRyxDQUFDLG1CQUFtQixFQUFFeEUsVUFBVXdFLFNBQVMsRUFBRSxHQUFHLEdBQUc7OztBQUd6RSxFQUFFeEUsVUFBVXlFLGdCQUFnQixHQUFHLENBQUMsZ0JBQWdCLEVBQUV6RSxVQUFVeUUsZ0JBQWdCLEVBQUUsR0FBRyxHQUFHO0FBQ3BGLEVBQUV6RSxVQUFVMEUscUJBQXFCLEtBQUssT0FBTyxDQUFDLGlCQUFpQixFQUFFMUUsVUFBVTBFLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxHQUFHLEdBQUc7QUFDcEgsRUFBRTFFLFVBQVUyRSxTQUFTLEdBQUcsQ0FBQywwQkFBMEIsRUFBRTNFLFVBQVUyRSxTQUFTLEVBQUUsR0FBRyxHQUFHOzs7OztBQUtoRixDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZmlzY2hcXElBX0RFTU9cXGFwcHNcXG5lb1xcYXBwXFxsaWJcXHNlcnZpY2VzXFxrbm93bGVkZ2VCYXNlQ29tcGlsZXJTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBLbm93bGVkZ2UgQmFzZSBDb21waWxlciBTZXJ2aWNlIHYwLjExXHJcbiAqIFxyXG4gKiBTZXJ2aWNlIGRlIGNvbXBpbGF0aW9uIGV0IGFzc2lnbmF0aW9uIGRlcyBLbm93bGVkZ2UgQmFzZXMgSGV5R2VuIHBvdXIgbGVzIHBvc3Rlcy5cclxuICogT3JjaGVzdHJlIGxlIHByb2Nlc3N1cyBjb21wbGV0IDpcclxuICogMS4gUsOpY3Vww6lyYXRpb24gZGVzIGRvbm7DqWVzIGR1IHBvc3RlXHJcbiAqIDIuIEFzc2lnbmF0aW9uIGRlcyAzIEtCIGRlcHVpcyBsZSBwb29sXHJcbiAqIDMuIEZvcm1hdGFnZSBkdSBjb250ZW51IHNww6ljaWZpcXVlIHBhciBwaGFzZVxyXG4gKiA0LiBNaXNlIMOgIGpvdXIgdmlhIEFQSSBIZXlHZW5cclxuICogNS4gU2F1dmVnYXJkZSBlbiBCRERcclxuICogXHJcbiAqIEBhdXRob3IgTmVvUmVjcnV0IFRlYW1cclxuICogQGRhdGUgMjAyNS0xMC0zMVxyXG4gKiBAdmVyc2lvbiAwLjExIC0gQWpvdXQgw6l0YXBlIDUgOiBTYXV2ZWdhcmRlIEJERCBjb21wbMOodGVcclxuICovXHJcblxyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCJAL2FwcC9saWIvc3VwYWJhc2VDbGllbnRcIjtcclxuaW1wb3J0IHsgYXNzaWduS0JUb1Bvc3RlLCByZWxlYXNlS0IsIGdldEF2YWlsYWJsZUtCIH0gZnJvbSAnQC9hcHAvbGliL3NlcnZpY2VzL2tub3dsZWRnZUJhc2VQb29sU2VydmljZSc7XHJcbmltcG9ydCB7IHVwZGF0ZVBvc3RlS25vd2xlZGdlQmFzZXMgfSBmcm9tICdAL2FwcC9saWIvc2VydmljZXMvaGV5Z2VuQXBpU2VydmljZSc7XHJcblxyXG4vLyBUeXBlc1xyXG5pbnRlcmZhY2UgQ29tcGlsYXRpb25SZXN1bHQge1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAga2JfZGVjb3V2ZXJ0ZV9pZD86IHN0cmluZyB8IG51bGw7XHJcbiAga2JfcHJlc2VsZWN0aW9uX2lkPzogc3RyaW5nIHwgbnVsbDtcclxuICBrYl9zZWxlY3Rpb25faWQ/OiBzdHJpbmcgfCBudWxsO1xyXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgZXJyb3I/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBQb3N0ZURhdGEge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0cmU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICBlbnRyZXByaXNlX2lkOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gTG9jYWxpc2F0aW9uXHJcbiAgdmlsbGU6IHN0cmluZyB8IG51bGw7XHJcbiAgcGF5czogc3RyaW5nIHwgbnVsbDtcclxuICByZW1vdGVfcG9zc2libGU6IGJvb2xlYW4gfCBudWxsO1xyXG4gIHJlbW90ZV9wYXJ0aWVsOiBib29sZWFuIHwgbnVsbDtcclxuICByZW1vdGVfY29tcGxldDogYm9vbGVhbiB8IG51bGw7XHJcbiAgXHJcbiAgLy8gQ29udHJhdFxyXG4gIHR5cGVfY29udHJhdDogc3RyaW5nIHwgbnVsbDtcclxuICBkYXRlX2RlYnV0X3NvdWhhaXRlZTogc3RyaW5nIHwgbnVsbDtcclxuICBcclxuICAvLyBTYWxhaXJlXHJcbiAgc2FsYWlyZV9taW46IG51bWJlciB8IG51bGw7XHJcbiAgc2FsYWlyZV9tYXg6IG51bWJlciB8IG51bGw7XHJcbiAgZGV2aXNlOiBzdHJpbmcgfCBudWxsO1xyXG4gIGF2YW50YWdlczogc3RyaW5nIHwgbnVsbDtcclxuICBcclxuICAvLyBGb3JtYXRpb24gJiBFeHDDqXJpZW5jZVxyXG4gIG5pdmVhdV9ldHVkZV9taW46IHN0cmluZyB8IG51bGw7XHJcbiAgZXhwZXJpZW5jZV9taW5fYW5uZWVzOiBudW1iZXIgfCBudWxsO1xyXG4gIHNlbmlvcml0ZTogc3RyaW5nIHwgbnVsbDtcclxuICBcclxuICAvLyBXb3JrZmxvdyBwaGFzZXNcclxuICBkZWZpbml0aW9uX2RhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbiAgY3JpdGVyZXNfcmVkaGliaXRvaXJlczogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICBjb21wZXRlbmNlczogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICBqb2JfZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGw7XHJcbiAgam9iX29mZmVyOiBzdHJpbmcgfCBudWxsO1xyXG4gIFxyXG4gIC8vIEVudHJlcHJpc2UgKGpvaW50dXJlKVxyXG4gIGVudHJlcHJpc2U/OiB7XHJcbiAgICBub206IHN0cmluZztcclxuICAgIHNlY3RldXI6IHN0cmluZyB8IG51bGw7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICAgIHZpbGxlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgcGF5czogc3RyaW5nIHwgbnVsbDtcclxuICAgIHRhaWxsZTogc3RyaW5nIHwgbnVsbDtcclxuICAgIHNpdGVfd2ViOiBzdHJpbmcgfCBudWxsO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21waWxlIGV0IGFzc2lnbmUgbGVzIDMgS25vd2xlZGdlIEJhc2VzIEhleUdlbiBwb3VyIHVuIHBvc3RlXHJcbiAqIFxyXG4gKiBAcGFyYW0gcG9zdGVJZCAtIFVVSUQgZHUgcG9zdGUgw6AgY29tcGlsZXJcclxuICogQHJldHVybnMgUsOpc3VsdGF0IGRlIGxhIGNvbXBpbGF0aW9uIGF2ZWMgbGVzIElEcyBkZXMgS0IgYXNzaWduw6llc1xyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tcGlsZUtub3dsZWRnZUJhc2VzKCd1dWlkLWR1LXBvc3RlJyk7XHJcbiAqIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gKiAgIGNvbnNvbGUubG9nKCdLQiBjb21waWzDqWVzOicsIHJlc3VsdCk7XHJcbiAqIH1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21waWxlS25vd2xlZGdlQmFzZXMocG9zdGVJZDogc3RyaW5nKTogUHJvbWlzZTxDb21waWxhdGlvblJlc3VsdD4ge1xyXG4gIGNvbnNvbGUubG9nKGDwn5SEIFtLQiBDb21waWxlcl0gRMOpbWFycmFnZSBjb21waWxhdGlvbiBwb3VyIHBvc3RlOiAke3Bvc3RlSWR9YCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gw4lUQVBFIDIgOiBSw6ljdXDDqXJhdGlvbiBkZXMgZG9ubsOpZXMgZHUgcG9zdGVcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBbS0IgQ29tcGlsZXJdIFLDqWN1cMOpcmF0aW9uIGRlcyBkb25uw6llcyBkdSBwb3N0ZS4uLmApO1xyXG4gICAgXHJcbiAgICBjb25zdCBwb3N0ZURhdGEgPSBhd2FpdCBmZXRjaFBvc3RlRGF0YShwb3N0ZUlkKTtcclxuICAgIFxyXG4gICAgaWYgKCFwb3N0ZURhdGEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3N0ZSBpbnRyb3V2YWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgW0tCIENvbXBpbGVyXSBEb25uw6llcyByw6ljdXDDqXLDqWVzOiAke3Bvc3RlRGF0YS50aXRyZX1gKTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gw4lUQVBFIDMgOiBBc3NpZ25hdGlvbiBkZXMgMyBLQiBkZXB1aXMgbGUgcG9vbFxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIGNvbnNvbGUubG9nKGDwn46vIFtLQiBDb21waWxlcl0gQXNzaWduYXRpb24gZGVzIEtCIGRlcHVpcyBsZSBwb29sLi4uYCk7XHJcbiAgICBcclxuICAgIC8vIFLDqWN1cMOpcmVyIGV0IGFzc2lnbmVyIEtCIETDqWNvdXZlcnRlIChBY3RlIDEpXHJcbiAgICBjb25zdCBrYkRlY291dmVydGVBdmFpbGFibGUgPSBhd2FpdCBnZXRBdmFpbGFibGVLQignZGVjb3V2ZXJ0ZScsICdnZW5lcmlxdWUnKTtcclxuICAgIGlmICgha2JEZWNvdXZlcnRlQXZhaWxhYmxlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXVjdW5lIEtCIETDqWNvdXZlcnRlIGRpc3BvbmlibGUgZGFucyBsZSBwb29sJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhc3NpZ25lZERlY291dmVydGUgPSBhd2FpdCBhc3NpZ25LQlRvUG9zdGUoa2JEZWNvdXZlcnRlQXZhaWxhYmxlLmlkLCBwb3N0ZUlkKTtcclxuICAgIGlmICghYXNzaWduZWREZWNvdXZlcnRlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGxvcnMgZGUgbFxcJ2Fzc2lnbmF0aW9uIGRlIGxhIEtCIETDqWNvdXZlcnRlJyk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFtLQiBDb21waWxlcl0gS0IgRMOpY291dmVydGUgYXNzaWduw6llOiAke2tiRGVjb3V2ZXJ0ZUF2YWlsYWJsZS5oZXlnZW5fa2JfaWR9YCk7XHJcbiAgICBcclxuICAgIC8vIFLDqWN1cMOpcmVyIGV0IGFzc2lnbmVyIEtCIFByw6lzw6lsZWN0aW9uIChBY3RlIDIpXHJcbiAgICBjb25zdCBrYlByZXNlbGVjdGlvbkF2YWlsYWJsZSA9IGF3YWl0IGdldEF2YWlsYWJsZUtCKCdwcmVzZWxlY3Rpb24nLCAnZ2VuZXJpcXVlJyk7XHJcbiAgICBpZiAoIWtiUHJlc2VsZWN0aW9uQXZhaWxhYmxlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXVjdW5lIEtCIFByw6lzw6lsZWN0aW9uIGRpc3BvbmlibGUgZGFucyBsZSBwb29sJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhc3NpZ25lZFByZXNlbGVjdGlvbiA9IGF3YWl0IGFzc2lnbktCVG9Qb3N0ZShrYlByZXNlbGVjdGlvbkF2YWlsYWJsZS5pZCwgcG9zdGVJZCk7XHJcbiAgICBpZiAoIWFzc2lnbmVkUHJlc2VsZWN0aW9uKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGxvcnMgZGUgbFxcJ2Fzc2lnbmF0aW9uIGRlIGxhIEtCIFByw6lzw6lsZWN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFtLQiBDb21waWxlcl0gS0IgUHLDqXPDqWxlY3Rpb24gYXNzaWduw6llOiAke2tiUHJlc2VsZWN0aW9uQXZhaWxhYmxlLmhleWdlbl9rYl9pZH1gKTtcclxuICAgIFxyXG4gICAgLy8gUsOpY3Vww6lyZXIgZXQgYXNzaWduZXIgS0IgU8OpbGVjdGlvbiAoQWN0ZSAzKVxyXG4gICAgY29uc3Qga2JTZWxlY3Rpb25BdmFpbGFibGUgPSBhd2FpdCBnZXRBdmFpbGFibGVLQignc2VsZWN0aW9uJywgJ2dlbmVyaXF1ZScpO1xyXG4gICAgaWYgKCFrYlNlbGVjdGlvbkF2YWlsYWJsZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1Y3VuZSBLQiBTw6lsZWN0aW9uIGRpc3BvbmlibGUgZGFucyBsZSBwb29sJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhc3NpZ25lZFNlbGVjdGlvbiA9IGF3YWl0IGFzc2lnbktCVG9Qb3N0ZShrYlNlbGVjdGlvbkF2YWlsYWJsZS5pZCwgcG9zdGVJZCk7XHJcbiAgICBpZiAoIWFzc2lnbmVkU2VsZWN0aW9uKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyZXVyIGxvcnMgZGUgbFxcJ2Fzc2lnbmF0aW9uIGRlIGxhIEtCIFPDqWxlY3Rpb24nKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGDinIUgW0tCIENvbXBpbGVyXSBLQiBTw6lsZWN0aW9uIGFzc2lnbsOpZTogJHtrYlNlbGVjdGlvbkF2YWlsYWJsZS5oZXlnZW5fa2JfaWR9YCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGtiX2RlY291dmVydGVfaWQgPSBrYkRlY291dmVydGVBdmFpbGFibGUuaGV5Z2VuX2tiX2lkO1xyXG4gICAgY29uc3Qga2JfcHJlc2VsZWN0aW9uX2lkID0ga2JQcmVzZWxlY3Rpb25BdmFpbGFibGUuaGV5Z2VuX2tiX2lkO1xyXG4gICAgY29uc3Qga2Jfc2VsZWN0aW9uX2lkID0ga2JTZWxlY3Rpb25BdmFpbGFibGUuaGV5Z2VuX2tiX2lkO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyDDiVRBUEUgNCA6IEZvcm1hdGFnZSBkdSBjb250ZW51IHBvdXIgY2hhcXVlIEtCXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgY29uc29sZS5sb2coYPCfk50gW0tCIENvbXBpbGVyXSBGb3JtYXRhZ2UgZHUgY29udGVudS4uLmApO1xyXG4gICAgXHJcbiAgICBjb25zdCBkZWNvdXZlcnRlQ29udGVudCA9IGZvcm1hdERlY291dmVydGVDb250ZW50KHBvc3RlRGF0YSk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFtLQiBDb21waWxlcl0gQ29udGVudSBEw6ljb3V2ZXJ0ZSBmb3JtYXTDqSAoJHtkZWNvdXZlcnRlQ29udGVudC5sZW5ndGh9IGNhcmFjdMOocmVzKWApO1xyXG4gICAgXHJcbiAgICBjb25zdCBwcmVzZWxlY3Rpb25Db250ZW50ID0gZm9ybWF0UHJlc2VsZWN0aW9uQ29udGVudChwb3N0ZURhdGEpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBbS0IgQ29tcGlsZXJdIENvbnRlbnUgUHLDqXPDqWxlY3Rpb24gZm9ybWF0w6kgKCR7cHJlc2VsZWN0aW9uQ29udGVudC5sZW5ndGh9IGNhcmFjdMOocmVzKWApO1xyXG4gICAgXHJcbiAgICBjb25zdCBzZWxlY3Rpb25Db250ZW50ID0gZm9ybWF0U2VsZWN0aW9uQ29udGVudChwb3N0ZURhdGEpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBbS0IgQ29tcGlsZXJdIENvbnRlbnUgU8OpbGVjdGlvbiBmb3JtYXTDqSAoJHtzZWxlY3Rpb25Db250ZW50Lmxlbmd0aH0gY2FyYWN0w6hyZXMpYCk7XHJcblxyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyDDiVRBUEUgNSA6IE1pc2Ugw6Agam91ciB2aWEgQVBJIEhleUdlblxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIGNvbnNvbGUubG9nKGDwn5SEIFtLQiBDb21waWxlcl0gTWlzZSDDoCBqb3VyIEFQSSBIZXlHZW4uLi5gKTtcclxuICAgIFxyXG4gICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlUG9zdGVLbm93bGVkZ2VCYXNlcyhcclxuICAgICAge1xyXG4gICAgICAgIGRlY291dmVydGU6IGtiX2RlY291dmVydGVfaWQsXHJcbiAgICAgICAgcHJlc2VsZWN0aW9uOiBrYl9wcmVzZWxlY3Rpb25faWQsXHJcbiAgICAgICAgc2VsZWN0aW9uOiBrYl9zZWxlY3Rpb25faWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBkZWNvdXZlcnRlOiBkZWNvdXZlcnRlQ29udGVudCxcclxuICAgICAgICBwcmVzZWxlY3Rpb246IHByZXNlbGVjdGlvbkNvbnRlbnQsXHJcbiAgICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb25Db250ZW50LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGlmICghdXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJldXIgbWlzZSDDoCBqb3VyIEhleUdlbjogJHt1cGRhdGVSZXN1bHQuZXJyb3J9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYOKchSBbS0IgQ29tcGlsZXJdIE1pc2Ugw6Agam91ciBIZXlHZW4gdGVybWluw6llYCk7XHJcblxyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyDDiVRBUEUgNiA6IFNhdXZlZ2FyZGUgZW4gQkREXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgY29uc29sZS5sb2coYPCfkr4gW0tCIENvbXBpbGVyXSBTYXV2ZWdhcmRlIGVuIEJERC4uLmApO1xyXG4gICAgXHJcbiAgICBjb25zdCBzYXZlUmVzdWx0ID0gYXdhaXQgc2F2ZUtCQ29tcGlsYXRpb25Ub0JERChcclxuICAgICAgcG9zdGVJZCxcclxuICAgICAga2JfZGVjb3V2ZXJ0ZV9pZCxcclxuICAgICAga2JfcHJlc2VsZWN0aW9uX2lkLFxyXG4gICAgICBrYl9zZWxlY3Rpb25faWQsXHJcbiAgICAgIGRlY291dmVydGVDb250ZW50LFxyXG4gICAgICBwcmVzZWxlY3Rpb25Db250ZW50LFxyXG4gICAgICBzZWxlY3Rpb25Db250ZW50XHJcbiAgICApO1xyXG5cclxuICAgIGlmICghc2F2ZVJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFtLQiBDb21waWxlcl0gQXZlcnRpc3NlbWVudCBsb3JzIGRlIGxhIHNhdXZlZ2FyZGUgQkREOicsIHNhdmVSZXN1bHQuZXJyb3IpO1xyXG4gICAgICAvLyBPbiBjb250aW51ZSBxdWFuZCBtw6ptZSBjYXIgbGVzIEtCIHNvbnQgZMOpasOgIG1pc2VzIMOgIGpvdXIgZGFucyBIZXlHZW5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgW0tCIENvbXBpbGVyXSBTYXV2ZWdhcmRlIEJERCB0ZXJtaW7DqWVgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFtLQiBDb21waWxlcl0gQ29tcGlsYXRpb24gdGVybWluw6llIGF2ZWMgc3VjY8Ooc2ApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGtiX2RlY291dmVydGVfaWQsXHJcbiAgICAgIGtiX3ByZXNlbGVjdGlvbl9pZCxcclxuICAgICAga2Jfc2VsZWN0aW9uX2lkLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tcGlsYXRpb24gZGVzIEtub3dsZWRnZSBCYXNlcyByw6l1c3NpZSdcclxuICAgIH07XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgW0tCIENvbXBpbGVyXSBFcnJldXIgbG9ycyBkZSBsYSBjb21waWxhdGlvbjonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIExpYsOpcmVyIGxlcyBLQiBwb3RlbnRpZWxsZW1lbnQgYXNzaWduw6llc1xyXG4gICAgY29uc29sZS5sb2coJ/CflIQgW0tCIENvbXBpbGVyXSBMaWLDqXJhdGlvbiBkZXMgS0IgYXNzaWduw6llcy4uLicpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUsOpY3Vww6lyZXIgbGVzIEtCIGFzc2lnbsOpZXMgw6AgY2UgcG9zdGUgcG91ciBsZXMgbGliw6lyZXJcclxuICAgICAgY29uc3QgeyBkYXRhOiBhc3NpZ25lZEtCcyB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgna25vd2xlZGdlX2Jhc2VzX3Bvb2wnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBoZXlnZW5fa2JfaWQnKVxyXG4gICAgICAgIC5lcSgncG9zdGVfaWQnLCBwb3N0ZUlkKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChhc3NpZ25lZEtCcyAmJiBhc3NpZ25lZEtCcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrYiBvZiBhc3NpZ25lZEtCcykge1xyXG4gICAgICAgICAgYXdhaXQgcmVsZWFzZUtCKGtiLmlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbS0IgQ29tcGlsZXJdICR7YXNzaWduZWRLQnMubGVuZ3RofSBLQiBsaWLDqXLDqWUocykgYXZlYyBzdWNjw6hzYCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKHJlbGVhc2VFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgW0tCIENvbXBpbGVyXSBFcnJldXIgbG9ycyBkZSBsYSBsaWLDqXJhdGlvbiBkZXMgS0I6JywgcmVsZWFzZUVycm9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJldXIgaW5jb25udWUgbG9ycyBkZSBsYSBjb21waWxhdGlvbidcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2F1dmVnYXJkZSBsZXMgcsOpc3VsdGF0cyBkZSBsYSBjb21waWxhdGlvbiBLQiBkYW5zIGxhIHRhYmxlIHBvc3Rlc1xyXG4gKiBcclxuICogQHBhcmFtIHBvc3RlSWQgLSBVVUlEIGR1IHBvc3RlXHJcbiAqIEBwYXJhbSBrYl9kZWNvdXZlcnRlX2lkIC0gSUQgSGV5R2VuIGRlIGxhIEtCIETDqWNvdXZlcnRlXHJcbiAqIEBwYXJhbSBrYl9wcmVzZWxlY3Rpb25faWQgLSBJRCBIZXlHZW4gZGUgbGEgS0IgUHLDqXPDqWxlY3Rpb25cclxuICogQHBhcmFtIGtiX3NlbGVjdGlvbl9pZCAtIElEIEhleUdlbiBkZSBsYSBLQiBTw6lsZWN0aW9uXHJcbiAqIEBwYXJhbSBkZWNvdXZlcnRlQ29udGVudCAtIFNuYXBzaG90IGR1IGNvbnRlbnUgRMOpY291dmVydGVcclxuICogQHBhcmFtIHByZXNlbGVjdGlvbkNvbnRlbnQgLSBTbmFwc2hvdCBkdSBjb250ZW51IFByw6lzw6lsZWN0aW9uXHJcbiAqIEBwYXJhbSBzZWxlY3Rpb25Db250ZW50IC0gU25hcHNob3QgZHUgY29udGVudSBTw6lsZWN0aW9uXHJcbiAqIEByZXR1cm5zIFLDqXN1bHRhdCBkZSBsYSBzYXV2ZWdhcmRlXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBzYXZlS0JDb21waWxhdGlvblRvQkREKFxyXG4gIHBvc3RlSWQ6IHN0cmluZyxcclxuICBrYl9kZWNvdXZlcnRlX2lkOiBzdHJpbmcsXHJcbiAga2JfcHJlc2VsZWN0aW9uX2lkOiBzdHJpbmcsXHJcbiAga2Jfc2VsZWN0aW9uX2lkOiBzdHJpbmcsXHJcbiAgZGVjb3V2ZXJ0ZUNvbnRlbnQ6IHN0cmluZyxcclxuICBwcmVzZWxlY3Rpb25Db250ZW50OiBzdHJpbmcsXHJcbiAgc2VsZWN0aW9uQ29udGVudDogc3RyaW5nXHJcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwb3N0ZXMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBrYl9kZWNvdXZlcnRlX2lkOiBrYl9kZWNvdXZlcnRlX2lkLFxyXG4gICAgICAgIGtiX3ByZXNlbGVjdGlvbl9pZDoga2JfcHJlc2VsZWN0aW9uX2lkLFxyXG4gICAgICAgIGtiX3NlbGVjdGlvbl9pZDoga2Jfc2VsZWN0aW9uX2lkLFxyXG4gICAgICAgIGtiX2RlY291dmVydGVfY29udGVudDogZGVjb3V2ZXJ0ZUNvbnRlbnQsXHJcbiAgICAgICAga2JfcHJlc2VsZWN0aW9uX2NvbnRlbnQ6IHByZXNlbGVjdGlvbkNvbnRlbnQsXHJcbiAgICAgICAga2Jfc2VsZWN0aW9uX2NvbnRlbnQ6IHNlbGVjdGlvbkNvbnRlbnQsXHJcbiAgICAgICAga2JfY29tcGlsZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBwb3N0ZUlkKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtLQiBDb21waWxlcl0gRXJyZXVyIHNhdXZlZ2FyZGUgQkREOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgW0tCIENvbXBpbGVyXSBEb25uw6llcyBzYXV2ZWdhcmTDqWVzIGVuIEJERCBwb3VyIGxlIHBvc3RlICR7cG9zdGVJZH1gKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIFtLQiBDb21waWxlcl0gRXhjZXB0aW9uIGxvcnMgZGUgbGEgc2F1dmVnYXJkZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0VycmV1ciBpbmNvbm51ZSdcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUsOpY3Vww6hyZSBsZXMgZG9ubsOpZXMgY29tcGzDqHRlcyBkdSBwb3N0ZSBhdmVjIGpvaW50dXJlIGVudHJlcHJpc2VcclxuICogXHJcbiAqIEBwYXJhbSBwb3N0ZUlkIC0gVVVJRCBkdSBwb3N0ZVxyXG4gKiBAcmV0dXJucyBEb25uw6llcyBkdSBwb3N0ZSBvdSBudWxsIHNpIGludHJvdXZhYmxlXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFBvc3RlRGF0YShwb3N0ZUlkOiBzdHJpbmcpOiBQcm9taXNlPFBvc3RlRGF0YSB8IG51bGw+IHtcclxuICAvLyBSw6ljdXDDqXJlciBsZSBwb3N0ZVxyXG4gIGNvbnN0IHsgZGF0YTogcG9zdGVEYXRhLCBlcnJvcjogcG9zdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwb3N0ZXMnKVxyXG4gICAgLnNlbGVjdCgnKicpXHJcbiAgICAuZXEoJ2lkJywgcG9zdGVJZClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKHBvc3RlRXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbS0IgQ29tcGlsZXJdIEVycmV1ciByw6ljdXDDqXJhdGlvbiBwb3N0ZTonLCBwb3N0ZUVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFwb3N0ZURhdGEpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbS0IgQ29tcGlsZXJdIFBvc3RlIGludHJvdXZhYmxlJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8vIFLDqWN1cMOpcmVyIGwnZW50cmVwcmlzZSBhc3NvY2nDqWVcclxuICBsZXQgZW50cmVwcmlzZURhdGEgPSBudWxsO1xyXG4gIGlmIChwb3N0ZURhdGEuZW50cmVwcmlzZV9pZCkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBlbnRyZXByaXNlLCBlcnJvcjogZW50cmVwcmlzZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZW50cmVwcmlzZXMnKVxyXG4gICAgICAuc2VsZWN0KCdub20sIGRlc2NyaXB0aW9uLCB2aWxsZSwgcGF5cycpXHJcbiAgICAgIC5lcSgnaWQnLCBwb3N0ZURhdGEuZW50cmVwcmlzZV9pZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmICghZW50cmVwcmlzZUVycm9yICYmIGVudHJlcHJpc2UpIHtcclxuICAgICAgZW50cmVwcmlzZURhdGEgPSBlbnRyZXByaXNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0tCIENvbXBpbGVyXSBFbnRyZXByaXNlIG5vbiB0cm91dsOpZSBwb3VyIGNlIHBvc3RlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGF0aW9uIGRlcyBkb25uw6llcyBjcml0aXF1ZXNcclxuICBpZiAoIXBvc3RlRGF0YS5kZWZpbml0aW9uX2RhdGEgfHwgT2JqZWN0LmtleXMocG9zdGVEYXRhLmRlZmluaXRpb25fZGF0YSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbS0IgQ29tcGlsZXJdIEF0dGVudGlvbjogZGVmaW5pdGlvbl9kYXRhIHZpZGUnKTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKCFwb3N0ZURhdGEuam9iX2Rlc2NyaXB0aW9uKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbS0IgQ29tcGlsZXJdIEF0dGVudGlvbjogam9iX2Rlc2NyaXB0aW9uIG1hbnF1YW50ZScpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29uc3RydWlyZSBsJ29iamV0IGZpbmFsXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnBvc3RlRGF0YSxcclxuICAgIGVudHJlcHJpc2U6IGVudHJlcHJpc2VEYXRhXHJcbiAgfSBhcyBQb3N0ZURhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtYXRlIGxlIGNvbnRlbnUgZGUgbGEgS0IgRMOpY291dmVydGUgKEFjdGUgMSlcclxuICogXHJcbiAqIEBwYXJhbSBwb3N0ZURhdGEgLSBEb25uw6llcyBkdSBwb3N0ZVxyXG4gKiBAcmV0dXJucyBDb250ZW51IGZvcm1hdMOpIHBvdXIgbGEgS0JcclxuICovXHJcbmZ1bmN0aW9uIGZvcm1hdERlY291dmVydGVDb250ZW50KHBvc3RlRGF0YTogUG9zdGVEYXRhKTogc3RyaW5nIHtcclxuICBjb25zdCBlbnRyZXByaXNlID0gcG9zdGVEYXRhLmVudHJlcHJpc2U7XHJcbiAgXHJcbiAgcmV0dXJuIGAjIFBPU1RFIDogJHtwb3N0ZURhdGEudGl0cmV9XHJcblxyXG4jIyDwn4+iIEVOVFJFUFJJU0VcclxuKipOb20qKiA6ICR7ZW50cmVwcmlzZT8ubm9tIHx8ICdOb24gcmVuc2VpZ27DqSd9XHJcbioqU2VjdGV1cioqIDogJHtlbnRyZXByaXNlPy5zZWN0ZXVyIHx8ICdOb24gcmVuc2VpZ27DqSd9XHJcbioqTG9jYWxpc2F0aW9uKiogOiAke2VudHJlcHJpc2U/LnZpbGxlIHx8ICcnfSwgJHtlbnRyZXByaXNlPy5wYXlzIHx8ICcnfVxyXG4ke2VudHJlcHJpc2U/LnRhaWxsZSA/IGAqKlRhaWxsZSoqIDogJHtlbnRyZXByaXNlLnRhaWxsZX1gIDogJyd9XHJcbiR7ZW50cmVwcmlzZT8uc2l0ZV93ZWIgPyBgKipTaXRlIHdlYioqIDogJHtlbnRyZXByaXNlLnNpdGVfd2VifWAgOiAnJ31cclxuXHJcbiMjIyDDgCBwcm9wb3MgZGUgbCdlbnRyZXByaXNlXHJcbiR7ZW50cmVwcmlzZT8uZGVzY3JpcHRpb24gfHwgJ05vbiByZW5zZWlnbsOpJ31cclxuXHJcbiMjIPCfk40gTE9DQUxJU0FUSU9OIERVIFBPU1RFXHJcbioqTGlldSoqIDogJHtwb3N0ZURhdGEudmlsbGUgfHwgJ05vbiByZW5zZWlnbsOpJ30sICR7cG9zdGVEYXRhLnBheXMgfHwgJyd9XHJcbiR7cG9zdGVEYXRhLnJlbW90ZV9jb21wbGV0ID8gJ/Cfj6AgKipUw6lsw6l0cmF2YWlsIGNvbXBsZXQgcG9zc2libGUqKicgOiAnJ31cclxuJHtwb3N0ZURhdGEucmVtb3RlX3BhcnRpZWwgPyAn8J+PoCAqKlTDqWzDqXRyYXZhaWwgcGFydGllbCBwb3NzaWJsZSoqJyA6ICcnfVxyXG4keyFwb3N0ZURhdGEucmVtb3RlX3Bvc3NpYmxlID8gJ/Cfj6IgKipQb3N0ZSBlbiBwcsOpc2VudGllbCoqJyA6ICcnfVxyXG5cclxuIyMg8J+SvCBUWVBFIERFIENPTlRSQVRcclxuKipUeXBlKiogOiAke3Bvc3RlRGF0YS50eXBlX2NvbnRyYXQgfHwgJ05vbiByZW5zZWlnbsOpJ31cclxuJHtwb3N0ZURhdGEuZGF0ZV9kZWJ1dF9zb3VoYWl0ZWUgPyBgKipEw6lidXQgc291aGFpdMOpKiogOiAke3Bvc3RlRGF0YS5kYXRlX2RlYnV0X3NvdWhhaXRlZX1gIDogJyd9XHJcblxyXG4jIyDwn5KwIFLDiU1VTsOJUkFUSU9OXHJcbiR7cG9zdGVEYXRhLnNhbGFpcmVfbWluICYmIHBvc3RlRGF0YS5zYWxhaXJlX21heCBcclxuICA/IGAqKkZvdXJjaGV0dGUqKiA6ICR7cG9zdGVEYXRhLnNhbGFpcmVfbWlufSAtICR7cG9zdGVEYXRhLnNhbGFpcmVfbWF4fSAke3Bvc3RlRGF0YS5kZXZpc2UgfHwgJ0VVUid9YCBcclxuICA6ICfDgCBkaXNjdXRlciBzZWxvbiBwcm9maWwnfVxyXG4ke3Bvc3RlRGF0YS5hdmFudGFnZXMgPyBgXFxuKipBdmFudGFnZXMqKiA6ICR7cG9zdGVEYXRhLmF2YW50YWdlc31gIDogJyd9XHJcblxyXG4jIyDwn46vIFBSw4lTRU5UQVRJT04gRFUgUE9TVEVcclxuJHtwb3N0ZURhdGEuZGVzY3JpcHRpb24gfHwgJ0Rlc2NyaXB0aW9uIGTDqXRhaWxsw6llIMOgIHZlbmlyJ31cclxuXHJcbiMjIPCfk5ogUFJPRklMIFJFQ0hFUkNIw4lcclxuJHtwb3N0ZURhdGEubml2ZWF1X2V0dWRlX21pbiA/IGAqKkZvcm1hdGlvbioqIDogJHtwb3N0ZURhdGEubml2ZWF1X2V0dWRlX21pbn1gIDogJyd9XHJcbiR7cG9zdGVEYXRhLmV4cGVyaWVuY2VfbWluX2FubmVlcyAhPT0gbnVsbCA/IGAqKkV4cMOpcmllbmNlKiogOiAke3Bvc3RlRGF0YS5leHBlcmllbmNlX21pbl9hbm5lZXN9IGFucyBtaW5pbXVtYCA6ICcnfVxyXG4ke3Bvc3RlRGF0YS5zZW5pb3JpdGUgPyBgKipOaXZlYXUqKiA6ICR7cG9zdGVEYXRhLnNlbmlvcml0ZX1gIDogJyd9XHJcblxyXG4tLS1cclxuKkFjdGUgMSAtIEVudHJldGllbiBkZSBEw6ljb3V2ZXJ0ZSpcclxuYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdGUgbGUgY29udGVudSBkZSBsYSBLQiBQcsOpc8OpbGVjdGlvbiAoQWN0ZSAyKVxyXG4gKiBcclxuICogQHBhcmFtIHBvc3RlRGF0YSAtIERvbm7DqWVzIGR1IHBvc3RlXHJcbiAqIEByZXR1cm5zIENvbnRlbnUgZm9ybWF0w6kgcG91ciBsYSBLQlxyXG4gKi9cclxuZnVuY3Rpb24gZm9ybWF0UHJlc2VsZWN0aW9uQ29udGVudChwb3N0ZURhdGE6IFBvc3RlRGF0YSk6IHN0cmluZyB7XHJcbiAgY29uc3QgZW50cmVwcmlzZSA9IHBvc3RlRGF0YS5lbnRyZXByaXNlO1xyXG4gIGNvbnN0IGNyaXRlcmVzID0gcG9zdGVEYXRhLmNyaXRlcmVzX3JlZGhpYml0b2lyZXMgfHwge307XHJcbiAgY29uc3QgY29tcGV0ZW5jZXMgPSBwb3N0ZURhdGEuY29tcGV0ZW5jZXMgfHwge307XHJcbiAgXHJcbiAgcmV0dXJuIGAjIFBPU1RFIDogJHtwb3N0ZURhdGEudGl0cmV9XHJcbioqRW50cmVwcmlzZSoqIDogJHtlbnRyZXByaXNlPy5ub20gfHwgJ05vbiByZW5zZWlnbsOpJ31cclxuXHJcbiMjIOKaoO+4jyBDUklUw4hSRVMgUsOJREhJQklUT0lSRVNcclxuJHtPYmplY3Qua2V5cyhjcml0ZXJlcykubGVuZ3RoID4gMCBcclxuICA/IE9iamVjdC5lbnRyaWVzKGNyaXRlcmVzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYC0gKioke2tleX0qKiA6ICR7dmFsdWV9YCkuam9pbignXFxuJylcclxuICA6ICdBdWN1biBjcml0w6hyZSByw6lkaGliaXRvaXJlIGTDqWZpbmknfVxyXG5cclxuIyMg8J+OryBDT01Qw4lURU5DRVMgUkVRVUlTRVNcclxuJHtPYmplY3Qua2V5cyhjb21wZXRlbmNlcykubGVuZ3RoID4gMCBcclxuICA/IE9iamVjdC5lbnRyaWVzKGNvbXBldGVuY2VzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSB2YWx1ZSBhcyBhbnk7XHJcbiAgICAgICAgcmV0dXJuIGAjIyMgJHtrZXl9XHJcbioqTml2ZWF1IHJlcXVpcyoqIDogJHtjb21wLm5pdmVhdSB8fCAnTm9uIHNww6ljaWZpw6knfVxyXG4qKkltcG9ydGFuY2UqKiA6ICR7Y29tcC5pbXBvcnRhbmNlIHx8ICdOb24gc3DDqWNpZmnDqSd9XHJcbiR7Y29tcC5kZXNjcmlwdGlvbiA/IGAqKkRlc2NyaXB0aW9uKiogOiAke2NvbXAuZGVzY3JpcHRpb259YCA6ICcnfWA7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGAtICoqJHtrZXl9KiogOiAke3ZhbHVlfWA7XHJcbiAgICB9KS5qb2luKCdcXG5cXG4nKVxyXG4gIDogJ0NvbXDDqXRlbmNlcyDDoCBkw6lmaW5pcid9XHJcblxyXG4jIyDwn5K8IENPTlRFWFRFIERVIFBPU1RFXHJcbiR7cG9zdGVEYXRhLmRlc2NyaXB0aW9uIHx8ICdOb24gcmVuc2VpZ27DqSd9XHJcblxyXG4jIyDwn5OaIEZPUk1BVElPTiAmIEVYUMOJUklFTkNFXHJcbiR7cG9zdGVEYXRhLm5pdmVhdV9ldHVkZV9taW4gPyBgKipGb3JtYXRpb24gbWluaW11bSoqIDogJHtwb3N0ZURhdGEubml2ZWF1X2V0dWRlX21pbn1gIDogJyd9XHJcbiR7cG9zdGVEYXRhLmV4cGVyaWVuY2VfbWluX2FubmVlcyAhPT0gbnVsbCA/IGAqKkV4cMOpcmllbmNlIG1pbmltdW0qKiA6ICR7cG9zdGVEYXRhLmV4cGVyaWVuY2VfbWluX2FubmVlc30gYW5zYCA6ICcnfVxyXG4ke3Bvc3RlRGF0YS5zZW5pb3JpdGUgPyBgKipOaXZlYXUgZGUgc8Opbmlvcml0w6kqKiA6ICR7cG9zdGVEYXRhLnNlbmlvcml0ZX1gIDogJyd9XHJcblxyXG4jIyDwn4+iIExJRVUgREUgVFJBVkFJTFxyXG4qKkxvY2FsaXNhdGlvbioqIDogJHtwb3N0ZURhdGEudmlsbGUgfHwgJ05vbiByZW5zZWlnbsOpJ30sICR7cG9zdGVEYXRhLnBheXMgfHwgJyd9XHJcbiR7cG9zdGVEYXRhLnJlbW90ZV9jb21wbGV0ID8gJ+KchSBUw6lsw6l0cmF2YWlsIGNvbXBsZXQgcG9zc2libGUnIDogJyd9XHJcbiR7cG9zdGVEYXRhLnJlbW90ZV9wYXJ0aWVsID8gJ+KchSBUw6lsw6l0cmF2YWlsIHBhcnRpZWwgcG9zc2libGUnIDogJyd9XHJcblxyXG4tLS1cclxuKkFjdGUgMiAtIEVudHJldGllbiBkZSBQcsOpc8OpbGVjdGlvbipcclxuKsOJdmFsdWF0aW9uIGRlcyBjb21ww6l0ZW5jZXMgdGVjaG5pcXVlcyBldCBkZXMgY3JpdMOocmVzIG9ibGlnYXRvaXJlcypcclxuYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdGUgbGUgY29udGVudSBkZSBsYSBLQiBTw6lsZWN0aW9uIChBY3RlIDMpXHJcbiAqIFxyXG4gKiBAcGFyYW0gcG9zdGVEYXRhIC0gRG9ubsOpZXMgZHUgcG9zdGVcclxuICogQHJldHVybnMgQ29udGVudSBmb3JtYXTDqSBwb3VyIGxhIEtCXHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JtYXRTZWxlY3Rpb25Db250ZW50KHBvc3RlRGF0YTogUG9zdGVEYXRhKTogc3RyaW5nIHtcclxuICBjb25zdCBlbnRyZXByaXNlID0gcG9zdGVEYXRhLmVudHJlcHJpc2U7XHJcbiAgY29uc3Qgam9iRGVzY3JpcHRpb24gPSBwb3N0ZURhdGEuam9iX2Rlc2NyaXB0aW9uO1xyXG4gIGNvbnN0IGNvbXBldGVuY2VzID0gcG9zdGVEYXRhLmNvbXBldGVuY2VzIHx8IHt9O1xyXG4gIFxyXG4gIHJldHVybiBgIyBGSUNIRSBERSBQT1NURSBDT01QTMOIVEUgOiAke3Bvc3RlRGF0YS50aXRyZX1cclxuXHJcbiMjIPCfj6IgRU5UUkVQUklTRVxyXG4qKk5vbSoqIDogJHtlbnRyZXByaXNlPy5ub20gfHwgJ05vbiByZW5zZWlnbsOpJ31cclxuKipTZWN0ZXVyKiogOiAke2VudHJlcHJpc2U/LnNlY3RldXIgfHwgJ05vbiByZW5zZWlnbsOpJ31cclxuKipMb2NhbGlzYXRpb24qKiA6ICR7ZW50cmVwcmlzZT8udmlsbGUgfHwgJyd9LCAke2VudHJlcHJpc2U/LnBheXMgfHwgJyd9XHJcbiR7ZW50cmVwcmlzZT8udGFpbGxlID8gYCoqVGFpbGxlKiogOiAke2VudHJlcHJpc2UudGFpbGxlfWAgOiAnJ31cclxuJHtlbnRyZXByaXNlPy5zaXRlX3dlYiA/IGAqKlNpdGUgd2ViKiogOiAke2VudHJlcHJpc2Uuc2l0ZV93ZWJ9YCA6ICcnfVxyXG5cclxuJHtlbnRyZXByaXNlPy5kZXNjcmlwdGlvbiA/IGAjIyMgw4AgcHJvcG9zXFxuJHtlbnRyZXByaXNlLmRlc2NyaXB0aW9ufVxcbmAgOiAnJ31cclxuXHJcbiMjIPCfk4sgREVTQ1JJUFRJT04gRMOJVEFJTEzDiUUgRFUgUE9TVEVcclxuJHtqb2JEZXNjcmlwdGlvbiB8fCBwb3N0ZURhdGEuZGVzY3JpcHRpb24gfHwgJ0Rlc2NyaXB0aW9uIG5vbiBkaXNwb25pYmxlJ31cclxuXHJcbiMjIPCfjq8gQ09NUMOJVEVOQ0VTIENMw4lTXHJcbiR7T2JqZWN0LmtleXMoY29tcGV0ZW5jZXMpLmxlbmd0aCA+IDAgXHJcbiAgPyBPYmplY3QuZW50cmllcyhjb21wZXRlbmNlcykubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBjb21wID0gdmFsdWUgYXMgYW55O1xyXG4gICAgICAgIHJldHVybiBgIyMjICR7a2V5fVxyXG4tICoqTml2ZWF1IHJlcXVpcyoqIDogJHtjb21wLm5pdmVhdSB8fCAnTm9uIHNww6ljaWZpw6knfVxyXG4tICoqSW1wb3J0YW5jZSoqIDogJHtjb21wLmltcG9ydGFuY2UgfHwgJ05vbiBzcMOpY2lmacOpJ31cclxuJHtjb21wLmRlc2NyaXB0aW9uID8gYC0gKipEZXNjcmlwdGlvbioqIDogJHtjb21wLmRlc2NyaXB0aW9ufWAgOiAnJ31cclxuJHtjb21wLmV4ZW1wbGVzID8gYC0gKipFeGVtcGxlcyBkJ2FwcGxpY2F0aW9uKiogOiAke2NvbXAuZXhlbXBsZXN9YCA6ICcnfWA7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGAtICoqJHtrZXl9KiogOiAke3ZhbHVlfWA7XHJcbiAgICB9KS5qb2luKCdcXG5cXG4nKVxyXG4gIDogJ0NvbXDDqXRlbmNlcyDDoCBkw6lmaW5pcid9XHJcblxyXG4jIyDwn5K8IENPTkRJVElPTlNcclxuKipUeXBlIGRlIGNvbnRyYXQqKiA6ICR7cG9zdGVEYXRhLnR5cGVfY29udHJhdCB8fCAnTm9uIHJlbnNlaWduw6knfVxyXG4ke3Bvc3RlRGF0YS5kYXRlX2RlYnV0X3NvdWhhaXRlZSA/IGAqKkTDqWJ1dCBzb3VoYWl0w6kqKiA6ICR7cG9zdGVEYXRhLmRhdGVfZGVidXRfc291aGFpdGVlfWAgOiAnJ31cclxuKipMb2NhbGlzYXRpb24qKiA6ICR7cG9zdGVEYXRhLnZpbGxlIHx8ICdOb24gcmVuc2VpZ27DqSd9LCAke3Bvc3RlRGF0YS5wYXlzIHx8ICcnfVxyXG4ke3Bvc3RlRGF0YS5yZW1vdGVfY29tcGxldCA/ICfwn4+gICoqVMOpbMOpdHJhdmFpbCBjb21wbGV0IHBvc3NpYmxlKionIDogJyd9XHJcbiR7cG9zdGVEYXRhLnJlbW90ZV9wYXJ0aWVsID8gJ/Cfj6AgKipUw6lsw6l0cmF2YWlsIHBhcnRpZWwgcG9zc2libGUqKicgOiAnJ31cclxuXHJcbiMjIPCfkrAgUsOJTVVOw4lSQVRJT04gJiBBVkFOVEFHRVNcclxuJHtwb3N0ZURhdGEuc2FsYWlyZV9taW4gJiYgcG9zdGVEYXRhLnNhbGFpcmVfbWF4IFxyXG4gID8gYCoqRm91cmNoZXR0ZSBzYWxhcmlhbGUqKiA6ICR7cG9zdGVEYXRhLnNhbGFpcmVfbWlufSAtICR7cG9zdGVEYXRhLnNhbGFpcmVfbWF4fSAke3Bvc3RlRGF0YS5kZXZpc2UgfHwgJ0VVUid9YCBcclxuICA6ICcqKlLDqW11bsOpcmF0aW9uKiogOiDDgCBkaXNjdXRlciBzZWxvbiBwcm9maWwgZXQgZXhww6lyaWVuY2UnfVxyXG4ke3Bvc3RlRGF0YS5hdmFudGFnZXMgPyBgXFxuKipBdmFudGFnZXMqKiA6XFxuJHtwb3N0ZURhdGEuYXZhbnRhZ2VzfWAgOiAnJ31cclxuXHJcbiMjIPCfk5ogUFJPRklMIFJFQ0hFUkNIw4lcclxuJHtwb3N0ZURhdGEubml2ZWF1X2V0dWRlX21pbiA/IGAqKkZvcm1hdGlvbioqIDogJHtwb3N0ZURhdGEubml2ZWF1X2V0dWRlX21pbn1gIDogJyd9XHJcbiR7cG9zdGVEYXRhLmV4cGVyaWVuY2VfbWluX2FubmVlcyAhPT0gbnVsbCA/IGAqKkV4cMOpcmllbmNlKiogOiAke3Bvc3RlRGF0YS5leHBlcmllbmNlX21pbl9hbm5lZXN9IGFucyBtaW5pbXVtYCA6ICcnfVxyXG4ke3Bvc3RlRGF0YS5zZW5pb3JpdGUgPyBgKipOaXZlYXUgZGUgc8Opbmlvcml0w6kqKiA6ICR7cG9zdGVEYXRhLnNlbmlvcml0ZX1gIDogJyd9XHJcblxyXG4tLS1cclxuKkFjdGUgMyAtIEVudHJldGllbiBkZSBTw6lsZWN0aW9uKlxyXG4qw4l2YWx1YXRpb24gYXBwcm9mb25kaWUgZGVzIGNvbXDDqXRlbmNlcywgc29mdCBza2lsbHMgZXQgZml0IGN1bHR1cmVsKlxyXG5gO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImFzc2lnbktCVG9Qb3N0ZSIsInJlbGVhc2VLQiIsImdldEF2YWlsYWJsZUtCIiwidXBkYXRlUG9zdGVLbm93bGVkZ2VCYXNlcyIsImNvbXBpbGVLbm93bGVkZ2VCYXNlcyIsInBvc3RlSWQiLCJjb25zb2xlIiwibG9nIiwicG9zdGVEYXRhIiwiZmV0Y2hQb3N0ZURhdGEiLCJFcnJvciIsInRpdHJlIiwia2JEZWNvdXZlcnRlQXZhaWxhYmxlIiwiYXNzaWduZWREZWNvdXZlcnRlIiwiaWQiLCJoZXlnZW5fa2JfaWQiLCJrYlByZXNlbGVjdGlvbkF2YWlsYWJsZSIsImFzc2lnbmVkUHJlc2VsZWN0aW9uIiwia2JTZWxlY3Rpb25BdmFpbGFibGUiLCJhc3NpZ25lZFNlbGVjdGlvbiIsImtiX2RlY291dmVydGVfaWQiLCJrYl9wcmVzZWxlY3Rpb25faWQiLCJrYl9zZWxlY3Rpb25faWQiLCJkZWNvdXZlcnRlQ29udGVudCIsImZvcm1hdERlY291dmVydGVDb250ZW50IiwibGVuZ3RoIiwicHJlc2VsZWN0aW9uQ29udGVudCIsImZvcm1hdFByZXNlbGVjdGlvbkNvbnRlbnQiLCJzZWxlY3Rpb25Db250ZW50IiwiZm9ybWF0U2VsZWN0aW9uQ29udGVudCIsInVwZGF0ZVJlc3VsdCIsImRlY291dmVydGUiLCJwcmVzZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzYXZlUmVzdWx0Iiwic2F2ZUtCQ29tcGlsYXRpb25Ub0JERCIsIndhcm4iLCJtZXNzYWdlIiwiZGF0YSIsImFzc2lnbmVkS0JzIiwiZnJvbSIsInNlbGVjdCIsImVxIiwia2IiLCJyZWxlYXNlRXJyb3IiLCJ1cGRhdGUiLCJrYl9kZWNvdXZlcnRlX2NvbnRlbnQiLCJrYl9wcmVzZWxlY3Rpb25fY29udGVudCIsImtiX3NlbGVjdGlvbl9jb250ZW50Iiwia2JfY29tcGlsZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwicG9zdGVFcnJvciIsInNpbmdsZSIsImVudHJlcHJpc2VEYXRhIiwiZW50cmVwcmlzZV9pZCIsImVudHJlcHJpc2UiLCJlbnRyZXByaXNlRXJyb3IiLCJkZWZpbml0aW9uX2RhdGEiLCJPYmplY3QiLCJrZXlzIiwiam9iX2Rlc2NyaXB0aW9uIiwibm9tIiwic2VjdGV1ciIsInZpbGxlIiwicGF5cyIsInRhaWxsZSIsInNpdGVfd2ViIiwiZGVzY3JpcHRpb24iLCJyZW1vdGVfY29tcGxldCIsInJlbW90ZV9wYXJ0aWVsIiwicmVtb3RlX3Bvc3NpYmxlIiwidHlwZV9jb250cmF0IiwiZGF0ZV9kZWJ1dF9zb3VoYWl0ZWUiLCJzYWxhaXJlX21pbiIsInNhbGFpcmVfbWF4IiwiZGV2aXNlIiwiYXZhbnRhZ2VzIiwibml2ZWF1X2V0dWRlX21pbiIsImV4cGVyaWVuY2VfbWluX2FubmVlcyIsInNlbmlvcml0ZSIsImNyaXRlcmVzIiwiY3JpdGVyZXNfcmVkaGliaXRvaXJlcyIsImNvbXBldGVuY2VzIiwiZW50cmllcyIsIm1hcCIsImtleSIsInZhbHVlIiwiam9pbiIsImNvbXAiLCJuaXZlYXUiLCJpbXBvcnRhbmNlIiwiam9iRGVzY3JpcHRpb24iLCJleGVtcGxlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/lib/services/knowledgeBaseCompilerService.ts\n");

/***/ })

};
;